function shopctTwoDigits(e){return 0<=e&&e<10?"0"+e.toString():-10<e&&e<0?"-0"+(-1*e).toString():e.toString()}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(u){var e=function(){if(u&&u.fn&&u.fn.select2&&u.fn.select2.amd)var e=u.fn.select2.amd;var t,o,n,d,s,i,h,f,_,y,g,m,r,a,v,c;function b(e,t){return r.call(e,t)}function l(e,t){var o,n,r,s,i,a,c,l,p,u,d,h=t&&t.split("/"),f=g.map,_=f&&f["*"]||{};if(e&&"."===e.charAt(0))if(t){for(i=(e=e.split("/")).length-1,g.nodeIdCompat&&v.test(e[i])&&(e[i]=e[i].replace(v,"")),e=h.slice(0,h.length-1).concat(e),p=0;p<e.length;p+=1)if("."===(d=e[p]))e.splice(p,1),p-=1;else if(".."===d){if(1===p&&(".."===e[2]||".."===e[0]))break;0<p&&(e.splice(p-1,2),p-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((h||_)&&f){for(p=(o=e.split("/")).length;0<p;p-=1){if(n=o.slice(0,p).join("/"),h)for(u=h.length;0<u;u-=1)if(r=(r=f[h.slice(0,u).join("/")])&&r[n]){s=r,a=p;break}if(s)break;!c&&_&&_[n]&&(c=_[n],l=p)}!s&&c&&(s=c,a=l),s&&(o.splice(0,a,s),e=o.join("/"))}return e}function w(t,o){return function(){var e=a.call(arguments,0);return"string"!=typeof e[0]&&1===e.length&&e.push(null),i.apply(d,e.concat([t,o]))}}function j(t){return function(e){_[t]=e}}function C(e){if(b(y,e)){var t=y[e];delete y[e],m[e]=!0,s.apply(d,t)}if(!b(_,e)&&!b(m,e))throw new Error("No "+e);return _[e]}function p(e){var t,o=e?e.indexOf("!"):-1;return-1<o&&(t=e.substring(0,o),e=e.substring(o+1,e.length)),[t,e]}return e&&e.requirejs||(e?o=e:e={},_={},y={},g={},m={},r=Object.prototype.hasOwnProperty,a=[].slice,v=/\.js$/,h=function(e,t){var o,n=p(e),r=n[0];return e=n[1],r&&(o=C(r=l(r,t))),r?e=o&&o.normalize?o.normalize(e,function(t){return function(e){return l(e,t)}}(t)):l(e,t):(r=(n=p(e=l(e,t)))[0],e=n[1],r&&(o=C(r))),{f:r?r+"!"+e:e,n:e,pr:r,p:o}},f={require:function(e){return w(e)},exports:function(e){var t=_[e];return void 0!==t?t:_[e]={}},module:function(e){return{id:e,uri:"",exports:_[e],config:function(e){return function(){return g&&g.config&&g.config[e]||{}}}(e)}}},s=function(e,t,o,n){var r,s,i,a,c,l,p=[],u=typeof o;if(n=n||e,"undefined"==u||"function"==u){for(t=!t.length&&o.length?["require","exports","module"]:t,c=0;c<t.length;c+=1)if("require"===(s=(a=h(t[c],n)).f))p[c]=f.require(e);else if("exports"===s)p[c]=f.exports(e),l=!0;else if("module"===s)r=p[c]=f.module(e);else if(b(_,s)||b(y,s)||b(m,s))p[c]=C(s);else{if(!a.p)throw new Error(e+" missing "+s);a.p.load(a.n,w(n,!0),j(s),{}),p[c]=_[s]}i=o?o.apply(_[e],p):void 0,e&&(r&&r.exports!==d&&r.exports!==_[e]?_[e]=r.exports:i===d&&l||(_[e]=i))}else e&&(_[e]=o)},t=o=i=function(e,t,o,n,r){if("string"==typeof e)return f[e]?f[e](t):C(h(e,t).f);if(!e.splice){if((g=e).deps&&i(g.deps,g.callback),!t)return;t.splice?(e=t,t=o,o=null):e=d}return t=t||function(){},"function"==typeof o&&(o=n,n=r),n?s(d,e,t,o):setTimeout(function(){s(d,e,t,o)},4),i},i.config=function(e){return i(e)},t._defined=_,(n=function(e,t,o){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(o=t,t=[]),b(_,e)||b(y,e)||(y[e]=[e,t,o])}).amd={jQuery:!0},e.requirejs=t,e.require=o,e.define=n),e.define("almond",function(){}),e.define("jquery",[],function(){var e=u||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(s){var e={};function p(e){var t=e.prototype,o=[];for(var n in t){"function"==typeof t[n]&&"constructor"!==n&&o.push(n)}return o}e.Extend=function(e,t){var o={}.hasOwnProperty;function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},e.Decorate=function(n,r){var e=p(r),t=p(n);function s(){var e=Array.prototype.unshift,t=r.prototype.constructor.length,o=n.prototype.constructor;0<t&&(e.call(arguments,n.prototype.constructor),o=r.prototype.constructor),o.apply(this,arguments)}r.displayName=n.displayName,s.prototype=new function(){this.constructor=s};for(var o=0;o<t.length;o++){var i=t[o];s.prototype[i]=n.prototype[i]}function a(e){var t=function(){};e in s.prototype&&(t=s.prototype[e]);var o=r.prototype[e];return function(){return Array.prototype.unshift.call(arguments,t),o.apply(this,arguments)}}for(var c=0;c<e.length;c++){var l=e[c];s.prototype[l]=a(l)}return s};function t(){this.listeners={}}return t.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},t.prototype.trigger=function(e){var t=Array.prototype.slice;this.listeners=this.listeners||{},e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},t.prototype.invoke=function(e,t){for(var o=0,n=e.length;o<n;o++)e[o].apply(this,t)},e.Observable=t,e.generateChars=function(e){for(var t="",o=0;o<e;o++){t+=Math.floor(36*Math.random()).toString(36)}return t},e.bind=function(e,t){return function(){e.apply(t,arguments)}},e._convertData=function(e){for(var t in e){var o=t.split("-"),n=e;if(1!==o.length){for(var r=0;r<o.length;r++){var s=o[r];(s=s.substring(0,1).toLowerCase()+s.substring(1))in n||(n[s]={}),r==o.length-1&&(n[s]=e[t]),n=n[s]}delete e[t]}}return e},e.hasScroll=function(e,t){var o=s(t),n=t.style.overflowX,r=t.style.overflowY;return(n!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===n||"scroll"===r||(o.innerHeight()<t.scrollHeight||o.innerWidth()<t.scrollWidth))},e.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},e.appendMany=function(e,t){if("1.7"===s.fn.jquery.substr(0,3)){var o=s();s.map(t,function(e){o=o.add(e)}),t=o}e.append(t)},e}),e.define("select2/results",["jquery","./utils"],function(d,e){function n(e,t,o){this.$element=e,this.data=o,this.options=t,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=d('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(e){var t=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var o=d('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),n=this.options.get("translations").get(e.message);o.append(t(n(e.args))),o[0].className+=" select2-results__message",this.$results.append(o)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var o=0;o<e.results.length;o++){var n=e.results[o],r=this.option(n);t.push(r)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(e,t){t.find(".select2-results").append(e)},n.prototype.sort=function(e){return this.options.get("sorter")(e)},n.prototype.setClasses=function(){var r=this;this.data.current(function(e){var n=d.map(e,function(e){return e.id.toString()}),t=r.$results.find(".select2-results__option[aria-selected]");t.each(function(){var e=d(this),t=d.data(this,"data"),o=""+t.id;null!=t.element&&t.element.selected||null==t.element&&-1<d.inArray(o,n)?e.attr("aria-selected","true"):e.attr("aria-selected","false")});var o=t.filter("[aria-selected=true]");0<o.length?o.first().trigger("mouseenter"):t.first().trigger("mouseenter")})},n.prototype.showLoading=function(e){this.hideLoading();var t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},o=this.option(t);o.className+=" loading-results",this.$results.prepend(o)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(e){var t=document.createElement("li");t.className="select2-results__option";var o={role:"treeitem","aria-selected":"false"};for(var n in e.disabled&&(delete o["aria-selected"],o["aria-disabled"]="true"),null==e.id&&delete o["aria-selected"],null!=e._resultId&&(t.id=e._resultId),e.title&&(t.title=e.title),e.children&&(o.role="group",o["aria-label"]=e.text,delete o["aria-selected"]),o){var r=o[n];t.setAttribute(n,r)}if(e.children){var s=d(t),i=document.createElement("strong");i.className="select2-results__group";d(i);this.template(e,i);for(var a=[],c=0;c<e.children.length;c++){var l=e.children[c],p=this.option(l);a.push(p)}var u=d("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});u.append(a),s.append(i),s.append(u)}else this.template(e,t);return d.data(t,"data",e),t},n.prototype.bind=function(t,e){var c=this,o=t.id+"-results";this.$results.attr("id",o),t.on("results:all",function(e){c.clear(),c.append(e.data),t.isOpen()&&c.setClasses()}),t.on("results:append",function(e){c.append(e.data),t.isOpen()&&c.setClasses()}),t.on("query",function(e){c.hideMessages(),c.showLoading(e)}),t.on("select",function(){t.isOpen()&&c.setClasses()}),t.on("unselect",function(){t.isOpen()&&c.setClasses()}),t.on("open",function(){c.$results.attr("aria-expanded","true"),c.$results.attr("aria-hidden","false"),c.setClasses(),c.ensureHighlightVisible()}),t.on("close",function(){c.$results.attr("aria-expanded","false"),c.$results.attr("aria-hidden","true"),c.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=c.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e=c.getHighlightedResults();if(0!==e.length){var t=e.data("data");"true"==e.attr("aria-selected")?c.trigger("close",{}):c.trigger("select",{data:t})}}),t.on("results:previous",function(){var e=c.getHighlightedResults(),t=c.$results.find("[aria-selected]"),o=t.index(e);if(0!==o){var n=o-1;0===e.length&&(n=0);var r=t.eq(n);r.trigger("mouseenter");var s=c.$results.offset().top,i=r.offset().top,a=c.$results.scrollTop()+(i-s);0===n?c.$results.scrollTop(0):i-s<0&&c.$results.scrollTop(a)}}),t.on("results:next",function(){var e=c.getHighlightedResults(),t=c.$results.find("[aria-selected]"),o=t.index(e)+1;if(!(o>=t.length)){var n=t.eq(o);n.trigger("mouseenter");var r=c.$results.offset().top+c.$results.outerHeight(!1),s=n.offset().top+n.outerHeight(!1),i=c.$results.scrollTop()+s-r;0===o?c.$results.scrollTop(0):r<s&&c.$results.scrollTop(i)}}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),t.on("results:message",function(e){c.displayMessage(e)}),d.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=c.$results.scrollTop(),o=c.$results.get(0).scrollHeight-c.$results.scrollTop()+e.deltaY,n=0<e.deltaY&&t-e.deltaY<=0,r=e.deltaY<0&&o<=c.$results.height();n?(c.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):r&&(c.$results.scrollTop(c.$results.get(0).scrollHeight-c.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var t=d(this),o=t.data("data");"true"!==t.attr("aria-selected")?c.trigger("select",{originalEvent:e,data:o}):c.options.get("multiple")?c.trigger("unselect",{originalEvent:e,data:o}):c.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(e){var t=d(this).data("data");c.getHighlightedResults().removeClass("select2-results__option--highlighted"),c.trigger("results:focus",{data:t,element:d(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]").index(e),o=this.$results.offset().top,n=e.offset().top,r=this.$results.scrollTop()+(n-o),s=n-o;r-=2*e.outerHeight(!1),t<=2?this.$results.scrollTop(0):(s>this.$results.outerHeight()||s<0)&&this.$results.scrollTop(r)}},n.prototype.template=function(e,t){var o=this.options.get("templateResult"),n=this.options.get("escapeMarkup"),r=o(e,t);null==r?t.style.display="none":"string"==typeof r?t.innerHTML=n(r):d(t).append(r)},n}),e.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(o,e,r){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=o('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e},n.prototype.bind=function(e,t){var o=this,n=(e.id,e.id+"-results");this.container=e,this.$selection.on("focus",function(e){o.trigger("focus",e)}),this.$selection.on("blur",function(e){o._handleBlur(e)}),this.$selection.on("keydown",function(e){o.trigger("keypress",e),e.which===r.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){o.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){o.update(e.data)}),e.on("open",function(){o.$selection.attr("aria-expanded","true"),o.$selection.attr("aria-owns",n),o._attachCloseHandler(e)}),e.on("close",function(){o.$selection.attr("aria-expanded","false"),o.$selection.removeAttr("aria-activedescendant"),o.$selection.removeAttr("aria-owns"),o.$selection.focus(),o._detachCloseHandler(e)}),e.on("enable",function(){o.$selection.attr("tabindex",o._tabindex)}),e.on("disable",function(){o.$selection.attr("tabindex","-1")})},n.prototype._handleBlur=function(e){var t=this;window.setTimeout(function(){document.activeElement==t.$selection[0]||o.contains(t.$selection[0],document.activeElement)||t.trigger("blur",e)},1)},n.prototype._attachCloseHandler=function(e){o(document.body).on("mousedown.select2."+e.id,function(e){var t=o(e.target).closest(".select2");o(".select2.select2-container--open").each(function(){var e=o(this);this!=t[0]&&e.data("element").select2("close")})})},n.prototype._detachCloseHandler=function(e){o(document.body).off("mousedown.select2."+e.id)},n.prototype.position=function(e,t){t.find(".selection").append(e)},n.prototype.destroy=function(){this._detachCloseHandler(this.container)},n.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},n}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,o,n){function r(){r.__super__.constructor.apply(this,arguments)}return o.Extend(r,t),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},r.prototype.bind=function(e,t){var o=this;r.__super__.bind.apply(this,arguments);var n=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(e){1===e.which&&o.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),e.on("selection:update",function(e){o.update(e.data)})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(e,t){var o=this.options.get("templateSelection");return this.options.get("escapeMarkup")(o(e,t))},r.prototype.selectionContainer=function(){return e("<span></span>")},r.prototype.update=function(e){if(0!==e.length){var t=e[0],o=this.$selection.find(".select2-selection__rendered"),n=this.display(t,o);o.empty().append(n),o.prop("title",t.title||t.text)}else this.clear()},r}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(n,e,a){function r(e,t){r.__super__.constructor.apply(this,arguments)}return a.Extend(r,e),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},r.prototype.bind=function(e,t){var o=this;r.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){o.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){if(!o.options.get("disabled")){var t=n(this).parent().data("data");o.trigger("unselect",{originalEvent:e,data:t})}})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(e,t){var o=this.options.get("templateSelection");return this.options.get("escapeMarkup")(o(e,t))},r.prototype.selectionContainer=function(){return n('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},r.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],o=0;o<e.length;o++){var n=e[o],r=this.selectionContainer(),s=this.display(n,r);r.append(s),r.prop("title",n.title||n.text),r.data("data",n),t.push(r)}var i=this.$selection.find(".select2-selection__rendered");a.appendMany(i,t)}},r}),e.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,o){this.placeholder=this.normalizePlaceholder(o.get("placeholder")),e.call(this,t,o)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var o=this.selectionContainer();return o.html(this.display(t)),o.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),o},t.prototype.update=function(e,t){var o=1==t.length&&t[0].id!=this.placeholder.id;if(1<t.length||o)return e.call(this,t);this.clear();var n=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(n)},t}),e.define("select2/selection/allowClear",["jquery","../keys"],function(n,r){function e(){}return e.prototype.bind=function(e,t,o){var n=this;e.call(this,t,o),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){n._handleClear(e)}),t.on("keypress",function(e){n._handleKeyboardClear(e,t)})},e.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var o=this.$selection.find(".select2-selection__clear");if(0!==o.length){t.stopPropagation();for(var n=o.data("data"),r=0;r<n.length;r++){var s={data:n[r]};if(this.trigger("unselect",s),s.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},e.prototype._handleKeyboardClear=function(e,t,o){o.isOpen()||t.which!=r.DELETE&&t.which!=r.BACKSPACE||this._handleClear(t)},e.prototype.update=function(e,t){if(e.call(this,t),!(0<this.$selection.find(".select2-selection__placeholder").length||0===t.length)){var o=n('<span class="select2-selection__clear">&times;</span>');o.data("data",t),this.$selection.find(".select2-selection__rendered").prepend(o)}},e}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(n,e,i){function t(e,t,o){e.call(this,t,o)}return t.prototype.render=function(e){var t=n('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=t,this.$search=t.find("input");var o=e.call(this);return this._transferTabIndex(),o},t.prototype.bind=function(e,t,o){var n=this;e.call(this,t,o),t.on("open",function(){n.$search.trigger("focus")}),t.on("close",function(){n.$search.val(""),n.$search.removeAttr("aria-activedescendant"),n.$search.trigger("focus")}),t.on("enable",function(){n.$search.prop("disabled",!1),n._transferTabIndex()}),t.on("disable",function(){n.$search.prop("disabled",!0)}),t.on("focus",function(e){n.$search.trigger("focus")}),t.on("results:focus",function(e){n.$search.attr("aria-activedescendant",e.id)}),this.$selection.on("focusin",".select2-search--inline",function(e){n.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){n._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){if(e.stopPropagation(),n.trigger("keypress",e),n._keyUpPrevented=e.isDefaultPrevented(),e.which===i.BACKSPACE&&""===n.$search.val()){var t=n.$searchContainer.prev(".select2-selection__choice");if(0<t.length){var o=t.data("data");n.searchRemoveChoice(o),e.preventDefault()}}});var r=document.documentMode,s=r&&r<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){s?n.$selection.off("input.search input.searchcheck"):n.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(s&&"input"===e.type)n.$selection.off("input.search input.searchcheck");else{var t=e.which;t!=i.SHIFT&&t!=i.CTRL&&t!=i.ALT&&t!=i.TAB&&n.handleSearch(e)}})},t.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},t.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},t.prototype.update=function(e,t){var o=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),o&&this.$search.focus()},t.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},t.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},t.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";""!==this.$search.attr("placeholder")?e=this.$selection.find(".select2-selection__rendered").innerWidth():e=.75*(this.$search.val().length+1)+"em";this.$search.css("width",e)},t}),e.define("select2/selection/eventRelay",["jquery"],function(i){function e(){}return e.prototype.bind=function(e,t,o){var n=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting"],s=["opening","closing","selecting","unselecting"];e.call(this,t,o),t.on("*",function(e,t){if(-1!==i.inArray(e,r)){t=t||{};var o=i.Event("select2:"+e,{params:t});n.$element.trigger(o),-1!==i.inArray(e,s)&&(t.prevented=o.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,o){function n(e){this.dict=e||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(e){return this.dict[e]},n.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},n._cache={},n.loadPath=function(e){if(!(e in n._cache)){var t=o(e);n._cache[e]=t}return new n(n._cache[e])},n}),e.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"}}),e.define("select2/data/base",["../utils"],function(n){function o(e,t){o.__super__.constructor.call(this)}return n.Extend(o,n.Observable),o.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},o.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},o.prototype.bind=function(e,t){},o.prototype.destroy=function(){},o.prototype.generateResultId=function(e,t){var o=e.id+"-result-";return o+=n.generateChars(4),null!=t.id?o+="-"+t.id.toString():o+="-"+n.generateChars(4),o},o}),e.define("select2/data/select",["./base","../utils","jquery"],function(e,t,a){function o(e,t){this.$element=e,this.options=t,o.__super__.constructor.call(this)}return t.Extend(o,e),o.prototype.current=function(e){var o=[],n=this;this.$element.find(":selected").each(function(){var e=a(this),t=n.item(e);o.push(t)}),e(o)},o.prototype.select=function(r){var s=this;if(r.selected=!0,a(r.element).is("option"))return r.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(e){var t=[];(r=[r]).push.apply(r,e);for(var o=0;o<r.length;o++){var n=r[o].id;-1===a.inArray(n,t)&&t.push(n)}s.$element.val(t),s.$element.trigger("change")});else{var e=r.id;this.$element.val(e),this.$element.trigger("change")}},o.prototype.unselect=function(r){var s=this;if(this.$element.prop("multiple")){if(r.selected=!1,a(r.element).is("option"))return r.element.selected=!1,void this.$element.trigger("change");this.current(function(e){for(var t=[],o=0;o<e.length;o++){var n=e[o].id;n!==r.id&&-1===a.inArray(n,t)&&t.push(n)}s.$element.val(t),s.$element.trigger("change")})}},o.prototype.bind=function(e,t){var o=this;(this.container=e).on("select",function(e){o.select(e.data)}),e.on("unselect",function(e){o.unselect(e.data)})},o.prototype.destroy=function(){this.$element.find("*").each(function(){a.removeData(this,"data")})},o.prototype.query=function(n,e){var r=[],s=this;this.$element.children().each(function(){var e=a(this);if(e.is("option")||e.is("optgroup")){var t=s.item(e),o=s.matches(n,t);null!==o&&r.push(o)}}),e({results:r})},o.prototype.addOptions=function(e){t.appendMany(this.$element,e)},o.prototype.option=function(e){var t;e.children?(t=document.createElement("optgroup")).label=e.text:void 0!==(t=document.createElement("option")).textContent?t.textContent=e.text:t.innerText=e.text,e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var o=a(t),n=this._normalizeItem(e);return n.element=t,a.data(t,"data",n),o},o.prototype.item=function(e){var t={};if(null!=(t=a.data(e[0],"data")))return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};for(var o=e.children("option"),n=[],r=0;r<o.length;r++){var s=a(o[r]),i=this.item(s);n.push(i)}t.children=n}return(t=this._normalizeItem(t)).element=e[0],a.data(e[0],"data",t),t},o.prototype._normalizeItem=function(e){a.isPlainObject(e)||(e={id:e,text:e});return null!=(e=a.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),a.extend({},{selected:!1,disabled:!1},e)},o.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},o}),e.define("select2/data/array",["./select","../utils","jquery"],function(e,f,_){function n(e,t){var o=t.get("data")||[];n.__super__.constructor.call(this,e,t),this.addOptions(this.convertToOptions(o))}return f.Extend(n,e),n.prototype.select=function(o){var e=this.$element.find("option").filter(function(e,t){return t.value==o.id.toString()});0===e.length&&(e=this.option(o),this.addOptions(e)),n.__super__.select.call(this,o)},n.prototype.convertToOptions=function(e){var t=this,o=this.$element.find("option"),n=o.map(function(){return t.item(_(this)).id}).get(),r=[];function s(e){return function(){return _(this).val()==e.id}}for(var i=0;i<e.length;i++){var a=this._normalizeItem(e[i]);if(0<=_.inArray(a.id,n)){var c=o.filter(s(a)),l=this.item(c),p=_.extend(!0,{},a,l),u=this.option(p);c.replaceWith(u)}else{var d=this.option(a);if(a.children){var h=this.convertToOptions(a.children);f.appendMany(d,h)}r.push(d)}}return r},n}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,s){function o(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),o.__super__.constructor.call(this,e,t)}return t.Extend(o,e),o.prototype._applyDefaults=function(e){var t={data:function(e){return s.extend({},e,{q:e.term})},transport:function(e,t,o){var n=s.ajax(e);return n.then(t),n.fail(o),n}};return s.extend({},t,e,!0)},o.prototype.processResults=function(e){return e},o.prototype.query=function(o,n){var r=this;null!=this._request&&(s.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var t=s.extend({type:"GET"},this.ajaxOptions);function e(){var e=t.transport(t,function(e){var t=r.processResults(e,o);r.options.get("debug")&&window.console&&console.error&&(t&&t.results&&s.isArray(t.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),n(t)},function(){r.trigger("results:message",{message:"errorLoading"})});r._request=e}"function"==typeof t.url&&(t.url=t.url.call(this.$element,o)),"function"==typeof t.data&&(t.data=t.data.call(this.$element,o)),this.ajaxOptions.delay&&""!==o.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(e,this.ajaxOptions.delay)):e()},o}),e.define("select2/data/tags",["jquery"],function(p){function e(e,t,o){var n=o.get("tags"),r=o.get("createTag");void 0!==r&&(this.createTag=r);var s=o.get("insertTag");if(void 0!==s&&(this.insertTag=s),e.call(this,t,o),p.isArray(n))for(var i=0;i<n.length;i++){var a=n[i],c=this._normalizeItem(a),l=this.option(c);this.$element.append(l)}}return e.prototype.query=function(e,l,p){var u=this;this._removeOldTags(),null!=l.term&&null==l.page?e.call(this,l,function e(t,o){for(var n=t.results,r=0;r<n.length;r++){var s=n[r],i=null!=s.children&&!e({results:s.children},!0);if(s.text===l.term||i)return!o&&(t.data=n,void p(t))}if(o)return!0;var a=u.createTag(l);if(null!=a){var c=u.option(a);c.attr("data-select2-tag",!0),u.addOptions([c]),u.insertTag(n,a)}t.results=n,p(t)}):e.call(this,l,p)},e.prototype.createTag=function(e,t){var o=p.trim(t.term);return""===o?null:{id:o,text:o}},e.prototype.insertTag=function(e,t,o){t.unshift(o)},e.prototype._removeOldTags=function(e){this._lastTag;this.$element.find("option[data-select2-tag]").each(function(){this.selected||p(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(u){function e(e,t,o){var n=o.get("tokenizer");void 0!==n&&(this.tokenizer=n),e.call(this,t,o)}return e.prototype.bind=function(e,t,o){e.call(this,t,o),this.$search=t.dropdown.$search||t.selection.$search||o.find(".select2-search__field")},e.prototype.query=function(e,t,o){var n=this;t.term=t.term||"";var r=this.tokenizer(t,this.options,function(e){n.trigger("select",{data:e})});r.term!==t.term&&(this.$search.length&&(this.$search.val(r.term),this.$search.focus()),t.term=r.term),e.call(this,t,o)},e.prototype.tokenizer=function(e,t,o,n){for(var r=o.get("tokenSeparators")||[],s=t.term,i=0,a=this.createTag||function(e){return{id:e.term,text:e.term}};i<s.length;){var c=s[i];if(-1!==u.inArray(c,r)){var l=s.substr(0,i),p=a(u.extend({},t,{term:l}));null!=p?(n(p),s=s.substr(i+1)||"",i=0):i++}else i++}return{term:s}},e}),e.define("select2/data/minimumInputLength",[],function(){function e(e,t,o){this.minimumInputLength=o.get("minimumInputLength"),e.call(this,t,o)}return e.prototype.query=function(e,t,o){t.term=t.term||"",t.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):e.call(this,t,o)},e}),e.define("select2/data/maximumInputLength",[],function(){function e(e,t,o){this.maximumInputLength=o.get("maximumInputLength"),e.call(this,t,o)}return e.prototype.query=function(e,t,o){t.term=t.term||"",0<this.maximumInputLength&&t.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):e.call(this,t,o)},e}),e.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,o){this.maximumSelectionLength=o.get("maximumSelectionLength"),e.call(this,t,o)}return e.prototype.query=function(o,n,r){var s=this;this.current(function(e){var t=null!=e?e.length:0;0<s.maximumSelectionLength&&t>=s.maximumSelectionLength?s.trigger("results:message",{message:"maximumSelected",args:{maximum:s.maximumSelectionLength}}):o.call(s,n,r)})},e}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function o(e,t){this.$element=e,this.options=t,o.__super__.constructor.call(this)}return e.Extend(o,e.Observable),o.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e},o.prototype.bind=function(){},o.prototype.position=function(e,t){},o.prototype.destroy=function(){this.$dropdown.remove()},o}),e.define("select2/dropdown/search",["jquery","../utils"],function(r,e){function t(){}return t.prototype.render=function(e){var t=e.call(this),o=r('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=o,this.$search=o.find("input"),t.prepend(o),t},t.prototype.bind=function(e,t,o){var n=this;e.call(this,t,o),this.$search.on("keydown",function(e){n.trigger("keypress",e),n._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(e){r(this).off("keyup")}),this.$search.on("keyup input",function(e){n.handleSearch(e)}),t.on("open",function(){n.$search.attr("tabindex",0),n.$search.focus(),window.setTimeout(function(){n.$search.focus()},0)}),t.on("close",function(){n.$search.attr("tabindex",-1),n.$search.val("")}),t.on("results:all",function(e){null!=e.query.term&&""!==e.query.term||(n.showSearch(e)?n.$searchContainer.removeClass("select2-search--hide"):n.$searchContainer.addClass("select2-search--hide"))})},t.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},t.prototype.showSearch=function(e,t){return!0},t}),e.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,o,n){this.placeholder=this.normalizePlaceholder(o.get("placeholder")),e.call(this,t,o,n)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var o=t.slice(0),n=t.length-1;0<=n;n--){var r=t[n];this.placeholder.id===r.id&&o.splice(n,1)}return o},e}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(r){function e(e,t,o,n){this.lastParams={},e.call(this,t,o,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,t,o){var n=this;e.call(this,t,o),t.on("query",function(e){n.lastParams=e,n.loading=!0}),t.on("query:append",function(e){n.lastParams=e,n.loading=!0}),this.$results.on("scroll",function(){var e=r.contains(document.documentElement,n.$loadingMore[0]);if(!n.loading&&e){var t=n.$results.offset().top+n.$results.outerHeight(!1);n.$loadingMore.offset().top+n.$loadingMore.outerHeight(!1)<=t+50&&n.loadMore()}})},e.prototype.loadMore=function(){this.loading=!0;var e=r.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},e.prototype.createLoadingMore=function(){var e=r('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),t=this.options.get("translations").get("loadingMore");return e.html(t(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(f,a){function e(e,t,o){this.$dropdownParent=o.get("dropdownParent")||f(document.body),e.call(this,t,o)}return e.prototype.bind=function(e,t,o){var n=this,r=!1;e.call(this,t,o),t.on("open",function(){n._showDropdown(),n._attachPositioningHandler(t),r||(r=!0,t.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}))}),t.on("close",function(){n._hideDropdown(),n._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},e.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},e.prototype.position=function(e,t,o){t.attr("class",o.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=o},e.prototype.render=function(e){var t=f("<span></span>"),o=e.call(this);return t.append(o),this.$dropdownContainer=t},e.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},e.prototype._attachPositioningHandler=function(e,t){var o=this,n="scroll.select2."+t.id,r="resize.select2."+t.id,s="orientationchange.select2."+t.id,i=this.$container.parents().filter(a.hasScroll);i.each(function(){f(this).data("select2-scroll-position",{x:f(this).scrollLeft(),y:f(this).scrollTop()})}),i.on(n,function(e){var t=f(this).data("select2-scroll-position");f(this).scrollTop(t.y)}),f(window).on(n+" "+r+" "+s,function(e){o._positionDropdown(),o._resizeDropdown()})},e.prototype._detachPositioningHandler=function(e,t){var o="scroll.select2."+t.id,n="resize.select2."+t.id,r="orientationchange.select2."+t.id;this.$container.parents().filter(a.hasScroll).off(o),f(window).off(o+" "+n+" "+r)},e.prototype._positionDropdown=function(){var e=f(window),t=this.$dropdown.hasClass("select2-dropdown--above"),o=this.$dropdown.hasClass("select2-dropdown--below"),n=null,r=this.$container.offset();r.bottom=r.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=r.top,s.bottom=r.top+s.height;var i=this.$dropdown.outerHeight(!1),a=e.scrollTop(),c=e.scrollTop()+e.height(),l=a<r.top-i,p=c>r.bottom+i,u={left:r.left,top:s.bottom},d=this.$dropdownParent;"static"===d.css("position")&&(d=d.offsetParent());var h=d.offset();u.top-=h.top,u.left-=h.left,t||o||(n="below"),p||!l||t?!l&&p&&t&&(n="below"):n="above",("above"==n||t&&"below"!==n)&&(u.top=s.top-i),null!=n&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+n),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+n)),this.$dropdownContainer.css(u)},e.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.width="auto"),this.$dropdown.css(e)},e.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},e}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(e,t,o,n){this.minimumResultsForSearch=o.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,o,n)}return e.prototype.showSearch=function(e,t){return!(function e(t){for(var o=0,n=0;n<t.length;n++){var r=t[n];r.children?o+=e(r.children):o++}return o}(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e}),e.define("select2/dropdown/selectOnClose",[],function(){function e(){}return e.prototype.bind=function(e,t,o){var n=this;e.call(this,t,o),t.on("close",function(){n._handleSelectOnClose()})},e.prototype._handleSelectOnClose=function(){var e=this.getHighlightedResults();if(!(e.length<1)){var t=e.data("data");null!=t.element&&t.element.selected||null==t.element&&t.selected||this.trigger("select",{data:t})}},e}),e.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,o){var n=this;e.call(this,t,o),t.on("select",function(e){n._selectTriggered(e)}),t.on("unselect",function(e){n._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var o=t.originalEvent;o&&o.ctrlKey||this.trigger("close",{})},e}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,o="Please delete "+t+" character";return 1!=t&&(o+="s"),o},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(f,_,y,g,m,v,b,w,j,C,k,t,Q,x,T,S,E,L,P,A,$,O,M,D,B,I,z,N,e){function o(){this.reset()}return o.prototype.apply=function(t){if(null==(t=f.extend({},this.defaults,t)).dataAdapter){if(null!=t.ajax?t.dataAdapter=T:null!=t.data?t.dataAdapter=x:t.dataAdapter=Q,0<t.minimumInputLength&&(t.dataAdapter=C.Decorate(t.dataAdapter,L)),0<t.maximumInputLength&&(t.dataAdapter=C.Decorate(t.dataAdapter,P)),0<t.maximumSelectionLength&&(t.dataAdapter=C.Decorate(t.dataAdapter,A)),t.tags&&(t.dataAdapter=C.Decorate(t.dataAdapter,S)),null==t.tokenSeparators&&null==t.tokenizer||(t.dataAdapter=C.Decorate(t.dataAdapter,E)),null!=t.query){var e=_(t.amdBase+"compat/query");t.dataAdapter=C.Decorate(t.dataAdapter,e)}if(null!=t.initSelection){var o=_(t.amdBase+"compat/initSelection");t.dataAdapter=C.Decorate(t.dataAdapter,o)}}if(null==t.resultsAdapter&&(t.resultsAdapter=y,null!=t.ajax&&(t.resultsAdapter=C.Decorate(t.resultsAdapter,D)),null!=t.placeholder&&(t.resultsAdapter=C.Decorate(t.resultsAdapter,M)),t.selectOnClose&&(t.resultsAdapter=C.Decorate(t.resultsAdapter,z))),null==t.dropdownAdapter){if(t.multiple)t.dropdownAdapter=$;else{var n=C.Decorate($,O);t.dropdownAdapter=n}if(0!==t.minimumResultsForSearch&&(t.dropdownAdapter=C.Decorate(t.dropdownAdapter,I)),t.closeOnSelect&&(t.dropdownAdapter=C.Decorate(t.dropdownAdapter,N)),null!=t.dropdownCssClass||null!=t.dropdownCss||null!=t.adaptDropdownCssClass){var r=_(t.amdBase+"compat/dropdownCss");t.dropdownAdapter=C.Decorate(t.dropdownAdapter,r)}t.dropdownAdapter=C.Decorate(t.dropdownAdapter,B)}if(null==t.selectionAdapter){if(t.multiple?t.selectionAdapter=m:t.selectionAdapter=g,null!=t.placeholder&&(t.selectionAdapter=C.Decorate(t.selectionAdapter,v)),t.allowClear&&(t.selectionAdapter=C.Decorate(t.selectionAdapter,b)),t.multiple&&(t.selectionAdapter=C.Decorate(t.selectionAdapter,w)),null!=t.containerCssClass||null!=t.containerCss||null!=t.adaptContainerCssClass){var s=_(t.amdBase+"compat/containerCss");t.selectionAdapter=C.Decorate(t.selectionAdapter,s)}t.selectionAdapter=C.Decorate(t.selectionAdapter,j)}if("string"==typeof t.language)if(0<t.language.indexOf("-")){var i=t.language.split("-")[0];t.language=[t.language,i]}else t.language=[t.language];if(f.isArray(t.language)){var a=new k;t.language.push("en");for(var c=t.language,l=0;l<c.length;l++){var p=c[l],u={};try{u=k.loadPath(p)}catch(e){try{p=this.defaults.amdLanguageBase+p,u=k.loadPath(p)}catch(e){t.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+p+'" could not be automatically loaded. A fallback will be used instead.');continue}}a.extend(u)}t.translations=a}else{var d=k.loadPath(this.defaults.amdLanguageBase+"en"),h=new k(t.language);h.extend(d),t.translations=h}return t},o.prototype.reset=function(){function a(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return t[e]||e})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:C.escapeMarkup,language:e,matcher:function e(t,o){if(""===f.trim(t.term))return o;if(o.children&&0<o.children.length){for(var n=f.extend(!0,{},o),r=o.children.length-1;0<=r;r--)null==e(t,o.children[r])&&n.children.splice(r,1);return 0<n.children.length?n:e(t,n)}var s=a(o.text).toUpperCase(),i=a(t.term).toUpperCase();return-1<s.indexOf(i)?o:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},o.prototype.set=function(e,t){var o={};o[f.camelCase(e)]=t;var n=C._convertData(o);f.extend(this.defaults,n)},new o}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(n,s,r,i){function e(e,t){if(this.options=e,null!=t&&this.fromElement(t),this.options=r.apply(this.options),t&&t.is("input")){var o=n(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,o)}}return e.prototype.fromElement=function(e){var t=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.language&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),e.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),e.data("data",e.data("select2Tags")),e.data("tags",!0)),e.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",e.data("ajaxUrl")),e.data("ajax--url",e.data("ajaxUrl")));var o={};o=s.fn.jquery&&"1."==s.fn.jquery.substr(0,2)&&e[0].dataset?s.extend(!0,{},e[0].dataset,e.data()):e.data();var n=s.extend(!0,{},o);for(var r in n=i._convertData(n))-1<s.inArray(r,t)||(s.isPlainObject(this.options[r])?s.extend(this.options[r],n[r]):this.options[r]=n[r]);return this},e.prototype.get=function(e){return this.options[e]},e.prototype.set=function(e,t){this.options[e]=t},e}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(r,l,o,n){var p=function(e,t){null!=e.data("select2")&&e.data("select2").destroy(),this.$element=e,this.id=this._generateId(e),t=t||{},this.options=new l(t,e),p.__super__.constructor.call(this);var o=e.attr("tabindex")||0;e.data("old-tabindex",o),e.attr("tabindex","-1");var n=this.options.get("dataAdapter");this.dataAdapter=new n(e,this.options);var r=this.render();this._placeContainer(r);var s=this.options.get("selectionAdapter");this.selection=new s(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,r);var i=this.options.get("dropdownAdapter");this.dropdown=new i(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,r);var a=this.options.get("resultsAdapter");this.results=new a(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var c=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){c.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),e.data("select2",this)};return o.Extend(p,o.Observable),p.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+o.generateChars(2):o.generateChars(4))},p.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},p.prototype._resolveWidth=function(e,t){var o=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var n=this._resolveWidth(e,"style");return null!=n?n:this._resolveWidth(e,"element")}if("element"==t){var r=e.outerWidth(!1);return r<=0?"auto":r+"px"}if("style"!=t)return t;var s=e.attr("style");if("string"!=typeof s)return null;for(var i=s.split(";"),a=0,c=i.length;a<c;a+=1){var l=i[a].replace(/\s/g,"").match(o);if(null!==l&&1<=l.length)return l[1]}return null},p.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},p.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this._sync=o.bind(this._syncAttributes,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._sync);var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=e?(this._observer=new e(function(e){r.each(e,t._sync)}),this._observer.observe(this.$element[0],{attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",t._sync,!1)},p.prototype._registerDataEvents=function(){var o=this;this.dataAdapter.on("*",function(e,t){o.trigger(e,t)})},p.prototype._registerSelectionEvents=function(){var o=this,n=["toggle","focus"];this.selection.on("toggle",function(){o.toggleDropdown()}),this.selection.on("focus",function(e){o.focus(e)}),this.selection.on("*",function(e,t){-1===r.inArray(e,n)&&o.trigger(e,t)})},p.prototype._registerDropdownEvents=function(){var o=this;this.dropdown.on("*",function(e,t){o.trigger(e,t)})},p.prototype._registerResultsEvents=function(){var o=this;this.results.on("*",function(e,t){o.trigger(e,t)})},p.prototype._registerEvents=function(){var o=this;this.on("open",function(){o.$container.addClass("select2-container--open")}),this.on("close",function(){o.$container.removeClass("select2-container--open")}),this.on("enable",function(){o.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){o.$container.addClass("select2-container--disabled")}),this.on("blur",function(){o.$container.removeClass("select2-container--focus")}),this.on("query",function(t){o.isOpen()||o.trigger("open",{}),this.dataAdapter.query(t,function(e){o.trigger("results:all",{data:e,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(e){o.trigger("results:append",{data:e,query:t})})}),this.on("keypress",function(e){var t=e.which;o.isOpen()?t===n.ESC||t===n.TAB||t===n.UP&&e.altKey?(o.close(),e.preventDefault()):t===n.ENTER?(o.trigger("results:select",{}),e.preventDefault()):t===n.SPACE&&e.ctrlKey?(o.trigger("results:toggle",{}),e.preventDefault()):t===n.UP?(o.trigger("results:previous",{}),e.preventDefault()):t===n.DOWN&&(o.trigger("results:next",{}),e.preventDefault()):(t===n.ENTER||t===n.SPACE||t===n.DOWN&&e.altKey)&&(o.open(),e.preventDefault())})},p.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},p.prototype.trigger=function(e,t){var o=p.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===t&&(t={}),e in n){var r=n[e],s={prevented:!1,name:e,args:t};if(o.call(this,r,s),s.prevented)return void(t.prevented=!0)}o.call(this,e,t)},p.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},p.prototype.open=function(){this.isOpen()||this.trigger("query",{})},p.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},p.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},p.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},p.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},p.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=e&&0!==e.length||(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},p.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},p.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var t=e[0];r.isArray(t)&&(t=r.map(t,function(e){return e.toString()})),this.$element.val(t).trigger("change")},p.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1),this._sync=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},p.prototype.render=function(){var e=r('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},p}),e.define("select2/compat/utils",["jquery"],function(i){return{syncCssClasses:function(e,t,o){var n,r,s=[];(n=i.trim(e.attr("class")))&&i((n=""+n).split(/\s+/)).each(function(){0===this.indexOf("select2-")&&s.push(this)}),(n=i.trim(t.attr("class")))&&i((n=""+n).split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(r=o(this))&&s.push(r)}),e.attr("class",s.join(" "))}}}),e.define("select2/compat/containerCss",["jquery","./utils"],function(i,a){function c(e){return null}function e(){}return e.prototype.render=function(e){var t=e.call(this),o=this.options.get("containerCssClass")||"";i.isFunction(o)&&(o=o(this.$element));var n=this.options.get("adaptContainerCssClass");if(n=n||c,-1!==o.indexOf(":all:")){o=o.replace(":all:","");var r=n;n=function(e){var t=r(e);return null!=t?t+" "+e:e}}var s=this.options.get("containerCss")||{};return i.isFunction(s)&&(s=s(this.$element)),a.syncCssClasses(t,this.$element,n),t.css(s),t.addClass(o),t},e}),e.define("select2/compat/dropdownCss",["jquery","./utils"],function(i,a){function c(e){return null}function e(){}return e.prototype.render=function(e){var t=e.call(this),o=this.options.get("dropdownCssClass")||"";i.isFunction(o)&&(o=o(this.$element));var n=this.options.get("adaptDropdownCssClass");if(n=n||c,-1!==o.indexOf(":all:")){o=o.replace(":all:","");var r=n;n=function(e){var t=r(e);return null!=t?t+" "+e:e}}var s=this.options.get("dropdownCss")||{};return i.isFunction(s)&&(s=s(this.$element)),a.syncCssClasses(t,this.$element,n),t.css(s),t.addClass(o),t},e}),e.define("select2/compat/initSelection",["jquery"],function(n){function e(e,t,o){o.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=o.get("initSelection"),this._isInitialized=!1,e.call(this,t,o)}return e.prototype.current=function(e,t){var o=this;this._isInitialized?e.call(this,t):this.initSelection.call(null,this.$element,function(e){o._isInitialized=!0,n.isArray(e)||(e=[e]),t(e)})},e}),e.define("select2/compat/inputData",["jquery"],function(i){function e(e,t,o){this._currentData=[],this._valueSeparator=o.get("valueSeparator")||",","hidden"===t.prop("type")&&o.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),e.call(this,t,o)}return e.prototype.current=function(e,t){function n(e,t){var o=[];return e.selected||-1!==i.inArray(e.id,t)?(e.selected=!0,o.push(e)):e.selected=!1,e.children&&o.push.apply(o,n(e.children,t)),o}for(var o=[],r=0;r<this._currentData.length;r++){var s=this._currentData[r];o.push.apply(o,n(s,this.$element.val().split(this._valueSeparator)))}t(o)},e.prototype.select=function(e,t){if(this.options.get("multiple")){var o=this.$element.val();o+=this._valueSeparator+t.id,this.$element.val(o),this.$element.trigger("change")}else this.current(function(e){i.map(e,function(e){e.selected=!1})}),this.$element.val(t.id),this.$element.trigger("change")},e.prototype.unselect=function(e,r){var s=this;r.selected=!1,this.current(function(e){for(var t=[],o=0;o<e.length;o++){var n=e[o];r.id!=n.id&&t.push(n.id)}s.$element.val(t.join(s._valueSeparator)),s.$element.trigger("change")})},e.prototype.query=function(e,t,o){for(var n=[],r=0;r<this._currentData.length;r++){var s=this._currentData[r],i=this.matches(t,s);null!==i&&n.push(i)}o({results:n})},e.prototype.addOptions=function(e,t){var o=i.map(t,function(e){return i.data(e[0],"data")});this._currentData.push.apply(this._currentData,o)},e}),e.define("select2/compat/matcher",["jquery"],function(i){return function(s){return function(e,t){var o=i.extend(!0,{},t);if(null==e.term||""===i.trim(e.term))return o;if(t.children){for(var n=t.children.length-1;0<=n;n--){var r=t.children[n];s(e.term,r.text,r)||o.children.splice(n,1)}if(0<o.children.length)return o}return s(e.term,t.text,t)?o:null}}}),e.define("select2/compat/query",[],function(){function e(e,t,o){o.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),e.call(this,t,o)}return e.prototype.query=function(e,t,o){t.callback=o,this.options.get("query").call(null,t)},e}),e.define("select2/dropdown/attachContainer",[],function(){function e(e,t,o){e.call(this,t,o)}return e.prototype.position=function(e,t,o){o.find(".dropdown-wrapper").append(t),t.addClass("select2-dropdown--below"),o.addClass("select2-container--below")},e}),e.define("select2/dropdown/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,o){e.call(this,t,o);this.$dropdown.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(e){e.stopPropagation()})},e}),e.define("select2/selection/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,o){e.call(this,t,o);this.$selection.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(e){e.stopPropagation()})},e}),c=function(d){var h,f,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],t="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],_=Array.prototype.slice;if(d.event.fixHooks)for(var o=e.length;o;)d.event.fixHooks[e[--o]]=d.event.mouseHooks;var y=d.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],n,!1);else this.onmousewheel=n;d.data(this,"mousewheel-line-height",y.getLineHeight(this)),d.data(this,"mousewheel-page-height",y.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],n,!1);else this.onmousewheel=null;d.removeData(this,"mousewheel-line-height"),d.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var t=d(e),o=t["offsetParent"in d.fn?"offsetParent":"parent"]();return o.length||(o=d("body")),parseInt(o.css("fontSize"),10)||parseInt(t.css("fontSize"),10)||16},getPageHeight:function(e){return d(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function n(e){var t,o=e||window.event,n=_.call(arguments,1),r=0,s=0,i=0,a=0,c=0;if((e=d.event.fix(o)).type="mousewheel","detail"in o&&(i=-1*o.detail),"wheelDelta"in o&&(i=o.wheelDelta),"wheelDeltaY"in o&&(i=o.wheelDeltaY),"wheelDeltaX"in o&&(s=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(s=-1*i,i=0),r=0===i?s:i,"deltaY"in o&&(r=i=-1*o.deltaY),"deltaX"in o&&(s=o.deltaX,0===i&&(r=-1*s)),0!==i||0!==s){if(1===o.deltaMode){var l=d.data(this,"mousewheel-line-height");r*=l,i*=l,s*=l}else if(2===o.deltaMode){var p=d.data(this,"mousewheel-page-height");r*=p,i*=p,s*=p}if(t=Math.max(Math.abs(i),Math.abs(s)),(!f||t<f)&&m(o,f=t)&&(f/=40),m(o,t)&&(r/=40,s/=40,i/=40),r=Math[1<=r?"floor":"ceil"](r/f),s=Math[1<=s?"floor":"ceil"](s/f),i=Math[1<=i?"floor":"ceil"](i/f),y.settings.normalizeOffset&&this.getBoundingClientRect){var u=this.getBoundingClientRect();a=e.clientX-u.left,c=e.clientY-u.top}return e.deltaX=s,e.deltaY=i,e.deltaFactor=f,e.offsetX=a,e.offsetY=c,e.deltaMode=0,n.unshift(e,r,s,i),h&&clearTimeout(h),h=setTimeout(g,200),(d.event.dispatch||d.event.handle).apply(this,n)}}function g(){f=null}function m(e,t){return y.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}d.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})},"function"==typeof e.define&&e.define.amd?e.define("jquery-mousewheel",["jquery"],c):"object"==typeof exports?module.exports=c:c(u),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(r,e,t,o){if(null==r.fn.select2){var s=["open","close","destroy"];r.fn.select2=function(o){if("object"==typeof(o=o||{}))return this.each(function(){var e=r.extend(!0,{},o);new t(r(this),e)}),this;if("string"!=typeof o)throw new Error("Invalid arguments for Select2: "+o);var n;return this.each(function(){var e=r(this).data("select2");null==e&&window.console&&console.error&&console.error("The select2('"+o+"') method was called on an element that is not using Select2.");var t=Array.prototype.slice.call(arguments,1);n=e[o].apply(e,t)}),-1<r.inArray(o,s)?this:n}}return null==r.fn.select2.defaults&&(r.fn.select2.defaults=o),t}),{define:e.define,require:e.require}}(),t=e.require("jquery.select2");return u.fn.select2.amd=e,t}),window.jscolor||(window.jscolor=function(){var o,r,e,t,_={register:function(){_.attachDOMReadyEvent(_.init),_.attachEvent(document,"mousedown",_.onDocumentMouseDown),_.attachEvent(document,"touchstart",_.onDocumentTouchStart),_.attachEvent(window,"resize",_.onWindowResize)},init:function(){_.jscolor.lookupClass&&_.jscolor.installByClassName(_.jscolor.lookupClass)},tryInstallOnElements:function(e,t){for(var o=new RegExp("(^|\\s)("+t+")(\\s*(\\{[^}]*\\})|\\s|$)","i"),n=0;n<e.length;n+=1){var r;if(void 0===e[n].type||"color"!=e[n].type.toLowerCase()||!_.isColorAttrSupported)if(!e[n].jscolor&&e[n].className&&(r=e[n].className.match(o))){var s=e[n],i=null,a=_.getDataAttr(s,"jscolor");null!==a?i=a:r[4]&&(i=r[4]);var c={};if(i)try{c=new Function("return ("+i+")")()}catch(e){_.warn("Error parsing jscolor options: "+e+":\n"+i)}s.jscolor=new _.jscolor(s,c)}}},isColorAttrSupported:(t=document.createElement("input"),!(!t.setAttribute||(t.setAttribute("type","color"),"color"!=t.type.toLowerCase()))),isCanvasSupported:(e=document.createElement("canvas"),!(!e.getContext||!e.getContext("2d"))),fetchElement:function(e){return"string"==typeof e?document.getElementById(e):e},isElementType:function(e,t){return e.nodeName.toLowerCase()===t.toLowerCase()},getDataAttr:function(e,t){var o="data-"+t,n=e.getAttribute(o);return null!==n?n:null},attachEvent:function(e,t,o){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent&&e.attachEvent("on"+t,o)},detachEvent:function(e,t,o){e.removeEventListener?e.removeEventListener(t,o,!1):e.detachEvent&&e.detachEvent("on"+t,o)},_attachedGroupEvents:{},attachGroupEvent:function(e,t,o,n){_._attachedGroupEvents.hasOwnProperty(e)||(_._attachedGroupEvents[e]=[]),_._attachedGroupEvents[e].push([t,o,n]),_.attachEvent(t,o,n)},detachGroupEvents:function(e){if(_._attachedGroupEvents.hasOwnProperty(e)){for(var t=0;t<_._attachedGroupEvents[e].length;t+=1){var o=_._attachedGroupEvents[e][t];_.detachEvent(o[0],o[1],o[2])}delete _._attachedGroupEvents[e]}},attachDOMReadyEvent:function(e){function t(){o||(o=!0,e())}var o=!1;if("complete"!==document.readyState){if(document.addEventListener)document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1);else if(document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),t())}),window.attachEvent("onload",t),document.documentElement.doScroll&&window==window.top)){var n=function(){if(document.body)try{document.documentElement.doScroll("left"),t()}catch(e){setTimeout(n,1)}};n()}}else setTimeout(t,1)},warn:function(e){window.console&&window.console.warn&&window.console.warn(e)},preventDefault:function(e){e.preventDefault&&e.preventDefault(),e.returnValue=!1},captureTarget:function(e){e.setCapture&&(_._capturedTarget=e,_._capturedTarget.setCapture())},releaseTarget:function(){_._capturedTarget&&(_._capturedTarget.releaseCapture(),_._capturedTarget=null)},fireEvent:function(e,t){if(e)if(document.createEvent)(o=document.createEvent("HTMLEvents")).initEvent(t,!0,!0),e.dispatchEvent(o);else if(document.createEventObject){var o=document.createEventObject();e.fireEvent("on"+t,o)}else e["on"+t]&&e["on"+t]()},classNameToList:function(e){return e.replace(/^\s+|\s+$/g,"").split(/\s+/)},hasClass:function(e,t){return!!t&&-1!=(" "+e.className.replace(/\s+/g," ")+" ").indexOf(" "+t+" ")},setClass:function(e,t){for(var o=_.classNameToList(t),n=0;n<o.length;n+=1)_.hasClass(e,o[n])||(e.className+=(e.className?" ":"")+o[n])},unsetClass:function(e,t){for(var o=_.classNameToList(t),n=0;n<o.length;n+=1){var r=new RegExp("^\\s*"+o[n]+"\\s*|\\s*"+o[n]+"\\s*$|\\s+"+o[n]+"(\\s+)","g");e.className=e.className.replace(r,"$1")}},getStyle:function(e){return window.getComputedStyle?window.getComputedStyle(e):e.currentStyle},setStyle:(o=document.createElement("div"),r={borderRadius:s(["borderRadius","MozBorderRadius","webkitBorderRadius"]),boxShadow:s(["boxShadow","MozBoxShadow","webkitBoxShadow"])},function(e,t,o){switch(t.toLowerCase()){case"opacity":var n=Math.round(100*parseFloat(o));e.style.opacity=o,e.style.filter="alpha(opacity="+n+")";break;default:e.style[r[t]]=o}}),setBorderRadius:function(e,t){_.setStyle(e,"borderRadius",t||"0")},setBoxShadow:function(e,t){_.setStyle(e,"boxShadow",t||"none")},getElementPos:function(e,t){var o=0,n=0,r=e.getBoundingClientRect();if(o=r.left,n=r.top,!t){var s=_.getViewPos();o+=s[0],n+=s[1]}return[o,n]},getElementSize:function(e){return[e.offsetWidth,e.offsetHeight]},getAbsPointerPos:function(e){var t=0,o=0;return void 0!==(e=e||window.event).changedTouches&&e.changedTouches.length?(t=e.changedTouches[0].clientX,o=e.changedTouches[0].clientY):"number"==typeof e.clientX&&(t=e.clientX,o=e.clientY),{x:t,y:o}},getRelPointerPos:function(e){var t=((e=e||window.event).target||e.srcElement).getBoundingClientRect(),o=0,n=0;return void 0!==e.changedTouches&&e.changedTouches.length?(o=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY):"number"==typeof e.clientX&&(o=e.clientX,n=e.clientY),{x:o-t.left,y:n-t.top}},getViewPos:function(){var e=document.documentElement;return[(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0),(window.pageYOffset||e.scrollTop)-(e.clientTop||0)]},getViewSize:function(){var e=document.documentElement;return[window.innerWidth||e.clientWidth,window.innerHeight||e.clientHeight]},redrawPosition:function(){if(_.picker&&_.picker.owner){var e,t,o=_.picker.owner;t=o.fixed?(e=_.getElementPos(o.targetElement,!0),[0,0]):(e=_.getElementPos(o.targetElement),_.getViewPos());var n,r,s,i=_.getElementSize(o.targetElement),a=_.getViewSize(),c=_.getPickerOuterDims(o);switch(o.position.toLowerCase()){case"left":r=0,s=-(n=1);break;case"right":r=0,s=n=1;break;case"top":n=0,s=-(r=1);break;default:n=0,s=r=1}var l=(i[r]+c[r])/2;if(o.smartPosition)p=[-t[n]+e[n]+c[n]>a[n]&&-t[n]+e[n]+i[n]/2>a[n]/2&&0<=e[n]+i[n]-c[n]?e[n]+i[n]-c[n]:e[n],-t[r]+e[r]+i[r]+c[r]-l+l*s>a[r]?-t[r]+e[r]+i[r]/2>a[r]/2&&0<=e[r]+i[r]-l-l*s?e[r]+i[r]-l-l*s:e[r]+i[r]-l+l*s:0<=e[r]+i[r]-l+l*s?e[r]+i[r]-l+l*s:e[r]+i[r]-l-l*s];else var p=[e[n],e[r]+i[r]-l+l*s];var u=p[n],d=p[r],h=o.fixed?"fixed":"absolute",f=(p[0]+c[0]>e[0]||p[0]<e[0]+i[0])&&p[1]+c[1]<e[1]+i[1];_._drawPosition(o,u,d,h,f)}},_drawPosition:function(e,t,o,n,r){var s=r?0:e.shadowBlur;_.picker.wrap.style.position=n,_.picker.wrap.style.left=t+"px",_.picker.wrap.style.top=o+"px",_.setBoxShadow(_.picker.boxS,e.shadow?new _.BoxShadow(0,s,e.shadowBlur,0,e.shadowColor):null)},getPickerDims:function(e){var t=!!_.getSliderComponent(e);return[2*e.insetWidth+2*e.padding+e.width+(t?2*e.insetWidth+_.getPadToSliderPadding(e)+e.sliderSize:0),2*e.insetWidth+2*e.padding+e.height+(e.closable?2*e.insetWidth+e.padding+e.buttonHeight:0)]},getPickerOuterDims:function(e){var t=_.getPickerDims(e);return[t[0]+2*e.borderWidth,t[1]+2*e.borderWidth]},getPadToSliderPadding:function(e){return Math.max(e.padding,1.5*(2*e.pointerBorderWidth+e.pointerThickness))},getPadYComponent:function(e){switch(e.mode.charAt(1).toLowerCase()){case"v":return"v"}return"s"},getSliderComponent:function(e){if(2<e.mode.length)switch(e.mode.charAt(2).toLowerCase()){case"s":return"s";case"v":return"v"}return null},onDocumentMouseDown:function(e){var t=(e=e||window.event).target||e.srcElement;t._jscLinkedInstance?t._jscLinkedInstance.showOnClick&&t._jscLinkedInstance.show():t._jscControlName?_.onControlPointerStart(e,t,t._jscControlName,"mouse"):_.picker&&_.picker.owner&&_.picker.owner.hide()},onDocumentTouchStart:function(e){var t=(e=e||window.event).target||e.srcElement;t._jscLinkedInstance?t._jscLinkedInstance.showOnClick&&t._jscLinkedInstance.show():t._jscControlName?_.onControlPointerStart(e,t,t._jscControlName,"touch"):_.picker&&_.picker.owner&&_.picker.owner.hide()},onWindowResize:function(e){_.redrawPosition()},onParentScroll:function(e){_.picker&&_.picker.owner&&_.picker.owner.hide()},_pointerMoveEvent:{mouse:"mousemove",touch:"touchmove"},_pointerEndEvent:{mouse:"mouseup",touch:"touchend"},_pointerOrigin:null,_capturedTarget:null,onControlPointerStart:function(o,n,r,s){var e=n._jscInstance;_.preventDefault(o),_.captureTarget(n);function t(e,t){_.attachGroupEvent("drag",e,_._pointerMoveEvent[s],_.onDocumentPointerMove(o,n,r,s,t)),_.attachGroupEvent("drag",e,_._pointerEndEvent[s],_.onDocumentPointerEnd(o,n,r,s))}if(t(document,[0,0]),window.parent&&window.frameElement){var i=window.frameElement.getBoundingClientRect(),a=[-i.left,-i.top];t(window.parent.window.document,a)}var c=_.getAbsPointerPos(o),l=_.getRelPointerPos(o);switch(_._pointerOrigin={x:c.x-l.x,y:c.y-l.y},r){case"pad":switch(_.getSliderComponent(e)){case"s":0===e.hsv[1]&&e.fromHSV(null,100,null);break;case"v":0===e.hsv[2]&&e.fromHSV(null,null,100)}_.setPad(e,o,0,0);break;case"sld":_.setSld(e,o,0)}_.dispatchFineChange(e)},onDocumentPointerMove:function(e,o,n,t,r){return function(e){var t=o._jscInstance;switch(n){case"pad":e=e||window.event,_.setPad(t,e,r[0],r[1]),_.dispatchFineChange(t);break;case"sld":e=e||window.event,_.setSld(t,e,r[1]),_.dispatchFineChange(t)}}},onDocumentPointerEnd:function(e,o,t,n){return function(e){var t=o._jscInstance;_.detachGroupEvents("drag"),_.releaseTarget(),_.dispatchChange(t)}},dispatchChange:function(e){e.valueElement&&_.isElementType(e.valueElement,"input")&&_.fireEvent(e.valueElement,"change")},dispatchFineChange:function(e){e.onFineChange&&("string"==typeof e.onFineChange?new Function(e.onFineChange):e.onFineChange).call(e)},setPad:function(e,t,o,n){var r=_.getAbsPointerPos(t),s=o+r.x-_._pointerOrigin.x-e.padding-e.insetWidth,i=n+r.y-_._pointerOrigin.y-e.padding-e.insetWidth,a=s*(360/(e.width-1)),c=100-i*(100/(e.height-1));switch(_.getPadYComponent(e)){case"s":e.fromHSV(a,c,null,_.leaveSld);break;case"v":e.fromHSV(a,null,c,_.leaveSld)}},setSld:function(e,t,o){var n=100-(o+_.getAbsPointerPos(t).y-_._pointerOrigin.y-e.padding-e.insetWidth)*(100/(e.height-1));switch(_.getSliderComponent(e)){case"s":e.fromHSV(null,n,null,_.leavePad);break;case"v":e.fromHSV(null,null,n,_.leavePad)}},_vmlNS:"jsc_vml_",_vmlCSS:"jsc_vml_css_",_vmlReady:!1,initVML:function(){if(!_._vmlReady){var e=document;if(e.namespaces[_._vmlNS]||e.namespaces.add(_._vmlNS,"urn:schemas-microsoft-com:vml"),!e.styleSheets[_._vmlCSS]){var t=["shape","shapetype","group","background","path","formulas","handles","fill","stroke","shadow","textbox","textpath","imagedata","line","polyline","curve","rect","roundrect","oval","arc","image"],o=e.createStyleSheet();o.owningElement.id=_._vmlCSS;for(var n=0;n<t.length;n+=1)o.addRule(_._vmlNS+"\\:"+t[n],"behavior:url(#default#VML);")}_._vmlReady=!0}},createPalette:function(){var e={elm:null,draw:null};if(_.isCanvasSupported){var s=document.createElement("canvas"),i=s.getContext("2d"),t=function(e,t,o){s.width=e,s.height=t,i.clearRect(0,0,s.width,s.height);var n=i.createLinearGradient(0,0,s.width,0);n.addColorStop(0,"#F00"),n.addColorStop(1/6,"#FF0"),n.addColorStop(2/6,"#0F0"),n.addColorStop(.5,"#0FF"),n.addColorStop(4/6,"#00F"),n.addColorStop(5/6,"#F0F"),n.addColorStop(1,"#F00"),i.fillStyle=n,i.fillRect(0,0,s.width,s.height);var r=i.createLinearGradient(0,0,0,s.height);switch(o.toLowerCase()){case"s":r.addColorStop(0,"rgba(255,255,255,0)"),r.addColorStop(1,"rgba(255,255,255,1)");break;case"v":r.addColorStop(0,"rgba(0,0,0,0)"),r.addColorStop(1,"rgba(0,0,0,1)")}i.fillStyle=r,i.fillRect(0,0,s.width,s.height)};e.elm=s,e.draw=t}else{_.initVML();var n=document.createElement("div");n.style.position="relative",n.style.overflow="hidden";var r=document.createElement(_._vmlNS+":fill");r.type="gradient",r.method="linear",r.angle="90",r.colors="16.67% #F0F, 33.33% #00F, 50% #0FF, 66.67% #0F0, 83.33% #FF0";var a=document.createElement(_._vmlNS+":rect");a.style.position="absolute",a.style.left="-1px",a.style.top="-1px",a.stroked=!1,a.appendChild(r),n.appendChild(a);var c=document.createElement(_._vmlNS+":fill");c.type="gradient",c.method="linear",c.angle="180",c.opacity="0";var l=document.createElement(_._vmlNS+":rect");l.style.position="absolute",l.style.left="-1px",l.style.top="-1px",l.stroked=!1,l.appendChild(c),n.appendChild(l);t=function(e,t,o){switch(n.style.width=e+"px",n.style.height=t+"px",a.style.width=l.style.width=e+1+"px",a.style.height=l.style.height=t+1+"px",r.color="#F00",r.color2="#F00",o.toLowerCase()){case"s":c.color=c.color2="#FFF";break;case"v":c.color=c.color2="#000"}};e.elm=n,e.draw=t}return e},createSliderGradient:function(){var e={elm:null,draw:null};if(_.isCanvasSupported){var s=document.createElement("canvas"),i=s.getContext("2d"),t=function(e,t,o,n){s.width=e,s.height=t,i.clearRect(0,0,s.width,s.height);var r=i.createLinearGradient(0,0,0,s.height);r.addColorStop(0,o),r.addColorStop(1,n),i.fillStyle=r,i.fillRect(0,0,s.width,s.height)};e.elm=s,e.draw=t}else{_.initVML();var r=document.createElement("div");r.style.position="relative",r.style.overflow="hidden";var a=document.createElement(_._vmlNS+":fill");a.type="gradient",a.method="linear",a.angle="180";var c=document.createElement(_._vmlNS+":rect");c.style.position="absolute",c.style.left="-1px",c.style.top="-1px",c.stroked=!1,c.appendChild(a),r.appendChild(c);t=function(e,t,o,n){r.style.width=e+"px",r.style.height=t+"px",c.style.width=e+1+"px",c.style.height=t+1+"px",a.color=o,a.color2=n};e.elm=r,e.draw=t}return e},leaveValue:1,leaveStyle:2,leavePad:4,leaveSld:8,BoxShadow:(n.prototype.toString=function(){var e=[Math.round(this.hShadow)+"px",Math.round(this.vShadow)+"px",Math.round(this.blur)+"px",Math.round(this.spread)+"px",this.color];return this.inset&&e.push("inset"),e.join(" ")},n),jscolor:function(e,t){for(var o in this.value=null,this.valueElement=e,this.styleElement=e,this.required=!0,this.refine=!0,this.hash=!1,this.uppercase=!0,this.onFineChange=null,this.activeClass="jscolor-active",this.minS=0,this.maxS=100,this.minV=0,this.maxV=100,this.hsv=[0,0,100],this.rgb=[255,255,255],this.width=181,this.height=101,this.showOnClick=!0,this.mode="HSV",this.position="bottom",this.smartPosition=!0,this.sliderSize=16,this.crossSize=8,this.closable=!1,this.closeText="Close",this.buttonColor="#000000",this.buttonHeight=18,this.padding=12,this.backgroundColor="#FFFFFF",this.borderWidth=1,this.borderColor="#BBBBBB",this.borderRadius=8,this.insetWidth=1,this.insetColor="#BBBBBB",this.shadow=!0,this.shadowBlur=15,this.shadowColor="rgba(0,0,0,0.2)",this.pointerColor="#4C4C4C",this.pointerBorderColor="#FFFFFF",this.pointerBorderWidth=1,this.pointerThickness=2,this.zIndex=999999,this.container=null,t)t.hasOwnProperty(o)&&(this[o]=t[o]);function p(e,t,o){var n=o/100*255;if(null===e)return[n,n,n];e/=60,t/=100;var r=Math.floor(e),s=n*(1-t),i=n*(1-t*(r%2?e-r:1-(e-r)));switch(r){case 6:case 0:return[n,i,s];case 1:return[i,n,s];case 2:return[s,n,i];case 3:return[s,i,n];case 4:return[i,s,n];case 5:return[n,s,i]}}function n(){u._processParentElementsInDOM(),_.picker||(_.picker={owner:null,wrap:document.createElement("div"),box:document.createElement("div"),boxS:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),padPal:_.createPalette(),cross:document.createElement("div"),crossBY:document.createElement("div"),crossBX:document.createElement("div"),crossLY:document.createElement("div"),crossLX:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),sldGrad:_.createSliderGradient(),sldPtrS:document.createElement("div"),sldPtrIB:document.createElement("div"),sldPtrMB:document.createElement("div"),sldPtrOB:document.createElement("div"),btn:document.createElement("div"),btnT:document.createElement("span")},_.picker.pad.appendChild(_.picker.padPal.elm),_.picker.padB.appendChild(_.picker.pad),_.picker.cross.appendChild(_.picker.crossBY),_.picker.cross.appendChild(_.picker.crossBX),_.picker.cross.appendChild(_.picker.crossLY),_.picker.cross.appendChild(_.picker.crossLX),_.picker.padB.appendChild(_.picker.cross),_.picker.box.appendChild(_.picker.padB),_.picker.box.appendChild(_.picker.padM),_.picker.sld.appendChild(_.picker.sldGrad.elm),_.picker.sldB.appendChild(_.picker.sld),_.picker.sldB.appendChild(_.picker.sldPtrOB),_.picker.sldPtrOB.appendChild(_.picker.sldPtrMB),_.picker.sldPtrMB.appendChild(_.picker.sldPtrIB),_.picker.sldPtrIB.appendChild(_.picker.sldPtrS),_.picker.box.appendChild(_.picker.sldB),_.picker.box.appendChild(_.picker.sldM),_.picker.btn.appendChild(_.picker.btnT),_.picker.box.appendChild(_.picker.btn),_.picker.boxB.appendChild(_.picker.box),_.picker.wrap.appendChild(_.picker.boxS),_.picker.wrap.appendChild(_.picker.boxB));var e,t,o=_.picker,n=!!_.getSliderComponent(u),r=_.getPickerDims(u),s=2*u.pointerBorderWidth+u.pointerThickness+2*u.crossSize,i=_.getPadToSliderPadding(u),a=Math.min(u.borderRadius,Math.round(u.padding*Math.PI));o.wrap.style.clear="both",o.wrap.style.width=r[0]+2*u.borderWidth+"px",o.wrap.style.height=r[1]+2*u.borderWidth+"px",o.wrap.style.zIndex=u.zIndex,o.box.style.width=r[0]+"px",o.box.style.height=r[1]+"px",o.boxS.style.position="absolute",o.boxS.style.left="0",o.boxS.style.top="0",o.boxS.style.width="100%",o.boxS.style.height="100%",_.setBorderRadius(o.boxS,a+"px"),o.boxB.style.position="relative",o.boxB.style.border=u.borderWidth+"px solid",o.boxB.style.borderColor=u.borderColor,o.boxB.style.background=u.backgroundColor,_.setBorderRadius(o.boxB,a+"px"),o.padM.style.background=o.sldM.style.background="#FFF",_.setStyle(o.padM,"opacity","0"),_.setStyle(o.sldM,"opacity","0"),o.pad.style.position="relative",o.pad.style.width=u.width+"px",o.pad.style.height=u.height+"px",o.padPal.draw(u.width,u.height,_.getPadYComponent(u)),o.padB.style.position="absolute",o.padB.style.left=u.padding+"px",o.padB.style.top=u.padding+"px",o.padB.style.border=u.insetWidth+"px solid",o.padB.style.borderColor=u.insetColor,o.padM._jscInstance=u,o.padM._jscControlName="pad",o.padM.style.position="absolute",o.padM.style.left="0",o.padM.style.top="0",o.padM.style.width=u.padding+2*u.insetWidth+u.width+i/2+"px",o.padM.style.height=r[1]+"px",o.padM.style.cursor="crosshair",o.cross.style.position="absolute",o.cross.style.left=o.cross.style.top="0",o.cross.style.width=o.cross.style.height=s+"px",o.crossBY.style.position=o.crossBX.style.position="absolute",o.crossBY.style.background=o.crossBX.style.background=u.pointerBorderColor,o.crossBY.style.width=o.crossBX.style.height=2*u.pointerBorderWidth+u.pointerThickness+"px",o.crossBY.style.height=o.crossBX.style.width=s+"px",o.crossBY.style.left=o.crossBX.style.top=Math.floor(s/2)-Math.floor(u.pointerThickness/2)-u.pointerBorderWidth+"px",o.crossBY.style.top=o.crossBX.style.left="0",o.crossLY.style.position=o.crossLX.style.position="absolute",o.crossLY.style.background=o.crossLX.style.background=u.pointerColor,o.crossLY.style.height=o.crossLX.style.width=s-2*u.pointerBorderWidth+"px",o.crossLY.style.width=o.crossLX.style.height=u.pointerThickness+"px",o.crossLY.style.left=o.crossLX.style.top=Math.floor(s/2)-Math.floor(u.pointerThickness/2)+"px",o.crossLY.style.top=o.crossLX.style.left=u.pointerBorderWidth+"px",o.sld.style.overflow="hidden",o.sld.style.width=u.sliderSize+"px",o.sld.style.height=u.height+"px",o.sldGrad.draw(u.sliderSize,u.height,"#000","#000"),o.sldB.style.display=n?"block":"none",o.sldB.style.position="absolute",o.sldB.style.right=u.padding+"px",o.sldB.style.top=u.padding+"px",o.sldB.style.border=u.insetWidth+"px solid",o.sldB.style.borderColor=u.insetColor,o.sldM._jscInstance=u,o.sldM._jscControlName="sld",o.sldM.style.display=n?"block":"none",o.sldM.style.position="absolute",o.sldM.style.right="0",o.sldM.style.top="0",o.sldM.style.width=u.sliderSize+i/2+u.padding+2*u.insetWidth+"px",o.sldM.style.height=r[1]+"px",o.sldM.style.cursor="default",o.sldPtrIB.style.border=o.sldPtrOB.style.border=u.pointerBorderWidth+"px solid "+u.pointerBorderColor,o.sldPtrOB.style.position="absolute",o.sldPtrOB.style.left=-(2*u.pointerBorderWidth+u.pointerThickness)+"px",o.sldPtrOB.style.top="0",o.sldPtrMB.style.border=u.pointerThickness+"px solid "+u.pointerColor,o.sldPtrS.style.width=u.sliderSize+"px",o.sldPtrS.style.height=h+"px",o.btn.style.display=u.closable?"block":"none",o.btn.style.position="absolute",o.btn.style.left=u.padding+"px",o.btn.style.bottom=u.padding+"px",o.btn.style.padding="0 15px",o.btn.style.height=u.buttonHeight+"px",o.btn.style.border=u.insetWidth+"px solid",e=u.insetColor.split(/\s+/),t=e.length<2?e[0]:e[1]+" "+e[0]+" "+e[0]+" "+e[1],o.btn.style.borderColor=t,o.btn.style.color=u.buttonColor,o.btn.style.font="12px sans-serif",o.btn.style.textAlign="center";try{o.btn.style.cursor="pointer"}catch(e){o.btn.style.cursor="hand"}o.btn.onmousedown=function(){u.hide()},o.btnT.style.lineHeight=u.buttonHeight+"px",o.btnT.innerHTML="",o.btnT.appendChild(document.createTextNode(u.closeText)),c(),l(),_.picker.owner&&_.picker.owner!==u&&_.unsetClass(_.picker.owner.targetElement,u.activeClass),_.picker.owner=u,_.isElementType(d,"body")?_.redrawPosition():_._drawPosition(u,0,0,"relative",!1),o.wrap.parentNode!=d&&d.appendChild(o.wrap),_.setClass(u.targetElement,u.activeClass)}function c(){switch(_.getPadYComponent(u)){case"s":var e=1;break;case"v":e=2}var t=Math.round(u.hsv[0]/360*(u.width-1)),o=Math.round((1-u.hsv[e]/100)*(u.height-1)),n=2*u.pointerBorderWidth+u.pointerThickness+2*u.crossSize,r=-Math.floor(n/2);switch(_.picker.cross.style.left=t+r+"px",_.picker.cross.style.top=o+r+"px",_.getSliderComponent(u)){case"s":var s=p(u.hsv[0],100,u.hsv[2]),i=p(u.hsv[0],0,u.hsv[2]),a="rgb("+Math.round(s[0])+","+Math.round(s[1])+","+Math.round(s[2])+")",c="rgb("+Math.round(i[0])+","+Math.round(i[1])+","+Math.round(i[2])+")";_.picker.sldGrad.draw(u.sliderSize,u.height,a,c);break;case"v":var l=p(u.hsv[0],u.hsv[1],100);a="rgb("+Math.round(l[0])+","+Math.round(l[1])+","+Math.round(l[2])+")",c="#000";_.picker.sldGrad.draw(u.sliderSize,u.height,a,c)}}function l(){var e=_.getSliderComponent(u);if(e){switch(e){case"s":var t=1;break;case"v":t=2}var o=Math.round((1-u.hsv[t]/100)*(u.height-1));_.picker.sldPtrOB.style.top=o-(2*u.pointerBorderWidth+u.pointerThickness)-Math.floor(h/2)+"px"}}function r(){return _.picker&&_.picker.owner===u}if(this.hide=function(){r()&&(_.unsetClass(u.targetElement,u.activeClass),_.picker.wrap.parentNode.removeChild(_.picker.wrap),delete _.picker.owner)},this.show=function(){n()},this.redraw=function(){r()&&n()},this.importColor=function(){this.valueElement&&_.isElementType(this.valueElement,"input")?this.refine?!this.required&&/^\s*$/.test(this.valueElement.value)?(this.valueElement.value="",this.styleElement&&(this.styleElement.style.backgroundImage=this.styleElement._jscOrigStyle.backgroundImage,this.styleElement.style.backgroundColor=this.styleElement._jscOrigStyle.backgroundColor,this.styleElement.style.color=this.styleElement._jscOrigStyle.color),this.exportColor(_.leaveValue|_.leaveStyle)):this.fromString(this.valueElement.value)||this.exportColor():this.fromString(this.valueElement.value,_.leaveValue)||(this.styleElement&&(this.styleElement.style.backgroundImage=this.styleElement._jscOrigStyle.backgroundImage,this.styleElement.style.backgroundColor=this.styleElement._jscOrigStyle.backgroundColor,this.styleElement.style.color=this.styleElement._jscOrigStyle.color),this.exportColor(_.leaveValue|_.leaveStyle)):this.exportColor()},this.exportColor=function(e){if(!(e&_.leaveValue)&&this.valueElement){var t=this.toString();this.uppercase&&(t=t.toUpperCase()),this.hash&&(t="#"+t),_.isElementType(this.valueElement,"input")?this.valueElement.value=t:this.valueElement.innerHTML=t}e&_.leaveStyle||this.styleElement&&(this.styleElement.style.backgroundImage="none",this.styleElement.style.backgroundColor="#"+this.toString(),this.styleElement.style.color=this.isLight()?"#000":"#FFF"),e&_.leavePad||!r()||c(),e&_.leaveSld||!r()||l()},this.fromHSV=function(e,t,o,n){if(null!==e){if(isNaN(e))return!1;e=Math.max(0,Math.min(360,e))}if(null!==t){if(isNaN(t))return!1;t=Math.max(0,Math.min(100,this.maxS,t),this.minS)}if(null!==o){if(isNaN(o))return!1;o=Math.max(0,Math.min(100,this.maxV,o),this.minV)}this.rgb=p(null===e?this.hsv[0]:this.hsv[0]=e,null===t?this.hsv[1]:this.hsv[1]=t,null===o?this.hsv[2]:this.hsv[2]=o),this.exportColor(n)},this.fromRGB=function(e,t,o,n){if(null!==e){if(isNaN(e))return!1;e=Math.max(0,Math.min(255,e))}if(null!==t){if(isNaN(t))return!1;t=Math.max(0,Math.min(255,t))}if(null!==o){if(isNaN(o))return!1;o=Math.max(0,Math.min(255,o))}var r=function(e,t,o){e/=255,t/=255,o/=255;var n=Math.min(Math.min(e,t),o),r=Math.max(Math.max(e,t),o),s=r-n;if(0==s)return[null,0,100*r];var i=e===n?3+(o-t)/s:t===n?5+(e-o)/s:1+(t-e)/s;return[60*(6==i?0:i),s/r*100,100*r]}(null===e?this.rgb[0]:e,null===t?this.rgb[1]:t,null===o?this.rgb[2]:o);null!==r[0]&&(this.hsv[0]=Math.max(0,Math.min(360,r[0]))),0!==r[2]&&(this.hsv[1]=null===r[1]?null:Math.max(0,this.minS,Math.min(100,this.maxS,r[1]))),this.hsv[2]=null===r[2]?null:Math.max(0,this.minV,Math.min(100,this.maxV,r[2]));var s=p(this.hsv[0],this.hsv[1],this.hsv[2]);this.rgb[0]=s[0],this.rgb[1]=s[1],this.rgb[2]=s[2],this.exportColor(n)},this.fromString=function(e,t){var o;if(o=e.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i))return 6===o[1].length?this.fromRGB(parseInt(o[1].substr(0,2),16),parseInt(o[1].substr(2,2),16),parseInt(o[1].substr(4,2),16),t):this.fromRGB(parseInt(o[1].charAt(0)+o[1].charAt(0),16),parseInt(o[1].charAt(1)+o[1].charAt(1),16),parseInt(o[1].charAt(2)+o[1].charAt(2),16),t),!0;if(o=e.match(/^\W*rgba?\(([^)]*)\)\W*$/i)){var n,r,s,i=o[1].split(","),a=/^\s*(\d*)(\.\d+)?\s*$/;if(3<=i.length&&(n=i[0].match(a))&&(r=i[1].match(a))&&(s=i[2].match(a))){var c=parseFloat((n[1]||"0")+(n[2]||"")),l=parseFloat((r[1]||"0")+(r[2]||"")),p=parseFloat((s[1]||"0")+(s[2]||""));return this.fromRGB(c,l,p,t),!0}}return!1},this.toString=function(){return(256|Math.round(this.rgb[0])).toString(16).substr(1)+(256|Math.round(this.rgb[1])).toString(16).substr(1)+(256|Math.round(this.rgb[2])).toString(16).substr(1)},this.toHEXString=function(){return"#"+this.toString().toUpperCase()},this.toRGBString=function(){return"rgb("+Math.round(this.rgb[0])+","+Math.round(this.rgb[1])+","+Math.round(this.rgb[2])+")"},this.isLight=function(){return 127.5<.213*this.rgb[0]+.715*this.rgb[1]+.072*this.rgb[2]},this._processParentElementsInDOM=function(){if(!this._linkedElementsProcessed){this._linkedElementsProcessed=!0;var e=this.targetElement;do{var t=_.getStyle(e);t&&"fixed"===t.position.toLowerCase()&&(this.fixed=!0),e!==this.targetElement&&(e._jscEventsAttached||(_.attachEvent(e,"scroll",_.onParentScroll),e._jscEventsAttached=!0))}while((e=e.parentNode)&&!_.isElementType(e,"body"))}},"string"==typeof e){var s=e,i=document.getElementById(s);i?this.targetElement=i:_.warn("Could not find target element with ID '"+s+"'")}else e?this.targetElement=e:_.warn("Invalid target element: '"+e+"'");if(this.targetElement._jscLinkedInstance)_.warn("Cannot link jscolor twice to the same element. Skipping.");else{(this.targetElement._jscLinkedInstance=this).valueElement=_.fetchElement(this.valueElement),this.styleElement=_.fetchElement(this.styleElement);var u=this,d=this.container?_.fetchElement(this.container):document.getElementsByTagName("body")[0],h=3;if(_.isElementType(this.targetElement,"button"))if(this.targetElement.onclick){var a=this.targetElement.onclick;this.targetElement.onclick=function(e){return a.call(this,e),!1}}else this.targetElement.onclick=function(){return!1};if(this.valueElement&&_.isElementType(this.valueElement,"input")){function f(){u.fromString(u.valueElement.value,_.leaveValue),_.dispatchFineChange(u)}_.attachEvent(this.valueElement,"keyup",f),_.attachEvent(this.valueElement,"input",f),_.attachEvent(this.valueElement,"blur",function(){u.importColor()}),this.valueElement.setAttribute("autocomplete","off")}this.styleElement&&(this.styleElement._jscOrigStyle={backgroundImage:this.styleElement.style.backgroundImage,backgroundColor:this.styleElement.style.backgroundColor,color:this.styleElement.style.color}),this.value?this.fromString(this.value)||this.exportColor():this.importColor()}}};function n(e,t,o,n,r,s){this.hShadow=e,this.vShadow=t,this.blur=o,this.spread=n,this.color=r,this.inset=!!s}function s(e){for(var t=0;t<e.length;t+=1)if(e[t]in o.style)return e[t]}return _.jscolor.lookupClass="jscolor",_.jscolor.installByClassName=function(e){var t=document.getElementsByTagName("input"),o=document.getElementsByTagName("button");_.tryInstallOnElements(t,e),_.tryInstallOnElements(o,e)},_.register(),_.jscolor}()),Date.prototype.toMysqlFormat=function(){return this.getFullYear()+"-"+shopctTwoDigits(1+this.getMonth())+"-"+shopctTwoDigits(this.getDate())+" "+shopctTwoDigits(this.getHours())+":"+shopctTwoDigits(this.getMinutes())+":"+shopctTwoDigits(this.getSeconds())};var shopctIsEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},shop_ct_popup={elems:{},toastElements:[],toastInterval:!1,html:function(e,t,o,n){var r="",s="";return void 0!==n.closeAnimation?shop_ct_popup.elems[e].closeAnimation=n.closeAnimation:shop_ct_popup.elems[e].closeAnimation="zoomOut",s=""!==t?(r='<div class="shop_ct_window_title_block"><div class="shop_ct_window_title">'+t+'</div><div class="shop_ct_window_close_btn"><span class="close_icon dashicons dashicons-no"></span></div></div>','<div class="shop_ct_window_content">'+o+"</div>"):o,'<div class="shop-ct-popup-outer-window" id="shop_ct_popup_window-'+e+'"><div id="shop_ct_window_overlay-'+e+'" class="shop_ct_window_overlay" data-id="'+e+'" ></div><div class="shop_ct_popup_window shop_ct_window ajax_window animated"><div class="shop_ct_popup_window_inner">'+r+s+"</div></div></div>"},prepareDOM:function(e){var t=jQuery.Deferred();return jQuery("#"+e).length||jQuery("body").append('<div id="'+e+'"></div>'),setTimeout(function(){t.resolve()},0),t.promise()},show:function(n,r){var s,i;shop_ct_popup.prepareDOM(n).then(function(){shop_ct_popup.elems[n]={},shop_ct_popup.elems[n].container=jQuery("#"+n),shop_ct_popup.elems[n].container_html=jQuery("#"+n).prop("outerHTML"),s=void 0!==r.row_content?r.row_content:shop_ct_popup.elems[n].container.html(),i=void 0!==r.title?r.title:"",s=shop_ct_popup.html(n,i,s,r),shop_ct_popup.elems[n].container.replaceWith(s);var e={};void 0!==r.width&&(e.width=r.width),void 0!==r.height&&(e.height=r.height),void 0!==r.css&&(e=r.css),shop_ct_popup.elems[n].args=r;var t=jQuery("body").find("#shop_ct_popup_window-"+n);t.find(".shop_ct_popup_window").css(e),t.find("form").length&&(t.find("form").data("changed","false"),t.find("form").data("submited","false"),t.find("form").find(":input").change(function(){t.find("form").data("changed","true")}),t.find("form").find("input[type=submit]").on("click",function(){t.find("form").data("submited","true"),t.find("form").data("changed","false")}));var o=r.animation||"zoomIn";shop_ct_popup.elems[n].animation=o,jQuery(window).trigger("shop_ct_popup:rendered",[n,r]),t.find(".shop_ct_popup_window").addClass(o).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){jQuery(window).trigger("shop_ct_popup:ready",[n,r]),jQuery("#shop_ct_popup_window-"+n+" .close_icon, #shop_ct_window_overlay-"+n).on("click",function(){shop_ct_popup.remove(n)})})})},remove:function(r){window.shop_ct_popup_close=!0,setTimeout(function(){var n=shop_ct_popup.elems[r].args;jQuery.when(jQuery(window).triggerHandler("shop_ct_popup:beforeClose",[r,n])).done(function(){if(window.shop_ct_popup_close){var e=jQuery("body");e.find("#shop_ct_window_overlay-"+r).fadeOut(500);var t=shop_ct_popup.elems[r].animation,o=shop_ct_popup.elems[r].closeAnimation;e.find("#shop_ct_popup_window-"+r).removeClass(t).addClass(o).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){e.find("#shop_ct_window_overlay-"+r).remove(),e.find("#shop_ct_popup_window-"+r).replaceWith(shop_ct_popup.elems[r].container_html),delete window.shop_ct_popup_close,delete shop_ct_popup.elems[r],jQuery(window).trigger("shop_ct_popup:afterClose",[r,n])})}})},200)},showToastr:function(e,t){t=t||"success",e=e||"Success!",4<=jQuery(".shop-ct-toastr").length&&(clearInterval(shop_ct_popup.toastInterval),shop_ct_popup.toastInterval=!1,shop_ct_popup.removeToastr()),jQuery(".shop-ct-toastr-wrap").length||jQuery("body").append('<div class="shop-ct-toastr-wrap"></div>'),jQuery(".shop-ct-toastr-wrap").append("<div class='shop-ct-toastr "+t+"'>"+e+"</div>"),shop_ct_popup.toastInterval||(shop_ct_popup.toastInterval=setInterval(function(){shop_ct_popup.removeToastr()},5e3))},removeToastr:function(){1===jQuery(".shop-ct-toastr").length&&(clearInterval(shop_ct_popup.toastInterval),shop_ct_popup.toastInterval=!1),jQuery(".shop-ct-toastr").first().addClass("shop-ct-close-toastr").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){jQuery(this).remove()})}};jQuery(document).ready(function(){jQuery("body").on("click",".shop-ct-img-control",function(){var t=jQuery(this);if(t.hasClass("add_image_control"))var o=wp.media({title:"Image Gallery",library:{type:"image"},button:{text:"Add Image Gallery Item"},multiple:!1}).on("select",function(){var e=o.state().get("selection").first().toJSON();t.parent().parent().find(".popup-control-value").val(e.id),t.find("img").length?t.find("img").attr("src",e.url):(t.removeClass("add_image_control").addClass("remove_control_image"),t.html(t.data("remove_text")),t.parent().parent().prepend('<p><a href="#" class="add_image_control shop-ct-img-control"><img src="'+e.url+'" alt="" /></a></p>'))}).open();else if(t.hasClass("remove_control_image"))return t.parent().parent().find(".popup-control-value").val(""),t.parent().parent().find("img").parent().parent().remove(),t.html(t.data("add_new_text")),t.removeClass("remove_control_image").addClass("add_image_control"),!1;return!1})}),jQuery(window).ready(function(){jQuery(".adminbar_change_block .btn1").click(function(){jQuery(".shop_ct_adminbar").removeClass("vertical"),jQuery(".shop_ct_adminbar").addClass("horizontal"),shopCT.sessions.setSession("shop_ct_adminbar","horizontal")}),jQuery(".adminbar_change_block .btn2").click(function(){jQuery(".shop_ct_adminbar").removeClass("horizontal"),jQuery(".shop_ct_adminbar").addClass("vertical"),shopCT.sessions.setSession("shop_ct_adminbar","vertical")})});var shopCT={init:function(){shopCT.sessions.getSessions(),jQuery("#shop_ct_wrapper").find(".select2").length&&jQuery("#shop_ct_wrapper").find(".select2").select2(),jQuery("#shop_ct_wrapper").find(".shop_ct_datepicker").length&&jQuery("#shop_ct_wrapper").find(".shop_ct_datepicker").datepicker()},getSearchParams:function(){for(var e={},t=window.location.search.substring(1).split("&"),o=0;o<t.length;o++){var n=t[o].split("=");if(void 0===e[n[0]])e[n[0]]=decodeURIComponent(n[1]);else if("string"==typeof e[n[0]]){var r=[e[n[0]],decodeURIComponent(n[1])];e[n[0]]=r}else e[n[0]].push(decodeURIComponent(n[1]))}return e},getLinkParams:function(e){var t={},o=e.match(/\?([\s\S]*)/g);if("object"==typeof o)for(var n=o[0].split("&"),r=0;r<n.length;r++){var s=n[r].split("=");if(void 0===t[s[0]])t[s[0]]=decodeURIComponent(s[1]);else if("string"==typeof t[s[0]]){var i=[t[s[0]],decodeURIComponent(s[1])];t[s[0]]=i}else t[s[0]].push(decodeURIComponent(s[1]))}return t},getLinkUrl:function(e){var t=/([\s\S]*?)\?/g.exec(e);return"object"==typeof t&&null!==t&&t[1]},pageLoadingCrushed:function(e){jQuery("#shop_ct_error_dialog_wrapper").html("<p>While Loading The Page an error occurred `</br>"+e),jQuery("#shop_ct_error_dialog_wrapper").dialog({dialogClass:"shop_ct_error_dialog",draggable:!1,resizable:!1,closeOnEscape:!0,hide:100,height:300,modal:!0,closeText:"X",position:{my:"center",at:"center",of:"#shop_ct_wrapper"},title:"Oops",buttons:{"Reload Page":function(){location.reload()}}})},addQueryArgs:function(e,t){if(shopctIsEmpty(e))return t;var o=shopCT.getLinkParams(t),n=shopCT.getLinkUrl(t),r=[];for(var s in e)o[s]=e[s];for(var i in o)r.push(i+"="+o[i]);return n+r.join("&")},deleteQueryArgs:function(e,t){if(shopctIsEmpty(e))return t;var o=shopCT.getLinkParams(t),n=shopCT.getLinkUrl(t),r=[];for(var s in e)o.hasOwnProperty(e[s])&&delete o[e[s]];for(var i in o)r.push(i+"="+o[i]);return n+r.join("&")},pageLoaded:function(){jQuery("#shop_ct_wrapper").removeClass("preloading"),jQuery(window).triggerHandler("shopCTPage:load")},pageLoading:function(){jQuery("#shop_ct_wrapper").addClass("preloading")},changePage:function(e,t){var o,n;for(var r in this.page_data={action:"shop_ct_ajax",task:"get_page_contents",slug:t,nonce:shopCTL10n.shop_ct_nonce},""===e?o=shopCT.getLinkParams(window.location.href):(o=shopCT.getLinkParams(e),history.pushState({},"shopCT Page "+t,e)),o)n=r.replace("?",""),window.shopCT.page_data[n]=o[r];return jQuery.ajax({url:shopCTL10n.ajax_url,type:"get",data:this.page_data,dataType:"json",beforeSend:function(){jQuery(".shop_ct_ajax_bind_html").html(""),shopCT.pageLoading()}}).done(function(e){e.success?(jQuery(".shop_ct_ajax_bind_html").html(e.page_contents),document.title=e.title,"undefined"!=typeof screenMeta&&screenMeta.init(),shopCT.init(),shopCT.pageLoaded(),setTimeout(function(){jQuery(window).triggerHandler("shopCT:load"),jQuery(window).triggerHandler("shopCT:load_"+t,[t])},0)):e.error?(shopCT.pageLoaded(),shopCT.pageLoadingCrushed(e.error)):(shopCT.pageLoaded(),shopCT.pageLoadingCrushed(e)),jQuery("html, body").animate({scrollTop:0},0)}).fail(function(e,t){shopCT.pageLoaded(),shopCT.pageLoadingCrushed(t)})},reloadPage:function(){var e=jQuery("body").find("#shop_ct_wrapper").data("current-page");shopCT.changePage("",e)},adminpanel:{activate_links:function(e){var t;jQuery(".shop_ct_adminbar").find(".shop-ct-link").each(function(){jQuery(this).data("slug")==e&&(t=jQuery(this))}),jQuery(".shop_ct_adminbar").find(".current").removeClass("current"),t.parent().addClass("current"),t.parent().hasClass("sub_item")&&(t.parentsUntil("li.sub_page").parent().parent().addClass("current"),t.parentsUntil("ul.shop_ct_submenu").parent().addClass("current")),t.parent().hasClass("first_sub_item")&&t.parent().parent().parent().addClass("current"),t.parent().hasClass("sub_page")&&t.parent().find(".first_sub_item").addClass("current")}},sessions:{sessions:{},setSession:function(name,value){eval("shopCT.sessions.sessions."+name+"="+JSON.stringify(value));var data={action:"shop_ct_ajax",task:"set_session",nonce:shopCTL10n.shop_ct_nonce,name:name,value:value};jQuery.ajax({url:shopCTL10n.ajax_url,type:"get",data:data,dataType:"json"}).done(function(){shopCT.sessions.getSessions()}).fail(function(e,t,o){console.log(o)})},getSessions:function(){var e={action:"shop_ct_ajax",task:"get_sessions",nonce:shopCTL10n.shop_ct_nonce};jQuery.ajax({url:shopCTL10n.ajax_url,type:"get",data:e,dataType:"json"}).done(function(e){e.success&&(shopCT.sessions.sessions=e.sessions)})},getSession:function(e){return window.shopCT.sessions.sessions[e]||""}},settings_save_data:{}};function image_gallery_sorting(o){setTimeout(function(){var e=o.parent().find(".popup-control-value"),t=[];jQuery(o).find(".image").each(function(){t.push(jQuery(this).data("attachment_id"))}),e.val(JSON.stringify(t))},200)}function image_gallery_sortable(){var e=jQuery(".popup_image_gallery_list");e.length&&e.sortable({opacity:.5,placeholder:"ui-shop-ct-image-placeholder",stop:function(e,t){image_gallery_sorting(t.item.parent())}})}function shopCTAddMainEventListeners(){var e=jQuery("#shop_ct_wrapper").data("current-page");shopCT.adminpanel.activate_links(e),jQuery("#toplevel_page_shopCT_customize").find("a").on("click",function(e){if(0==e.button){jQuery(this).parent().parent().find(".current").removeClass("current"),jQuery(this).parent().addClass("current");var t=jQuery(this).attr("href"),o=/([^\?]*)\?page=([^\?]*)/g.exec(t)[2];return shopCT.adminpanel.activate_links(o),jQuery("#shop_ct_wrapper").data("current-page",o),shopCT.changePage(t,o),!1}}),jQuery("body").on("click",".control-container-image .remove_control_image",function(){var e=jQuery(this);return e.parent().parent().find(".popup-control-value").val(""),e.parent().parent().find("img").parent().parent().remove(),e.html(e.data("add_new_text")),e.removeClass("remove_control_image").addClass("add_image_control"),!1}),jQuery(window).on("shop_ct_popup:ready",function(e,t){var o=jQuery("#shop_ct_popup_window-"+t);o.find(".select2").length&&o.find(".select2").select2(),jQuery("#shop_ct_wrapper").find(".shop_ct_datepicker").length&&jQuery("#shop_ct_wrapper").find(".shop_ct_datepicker").datepicker({dateFormat:"yy-mm-dd"}),"undefined"!=typeof tagBox&&tagBox.init()})}function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function deleteOrderAutoDraft(){var e=jQuery("#popup-control-order_is_new_and_id").val(),t={action:"shop_ct_ajax",task:"delete_auto_draft",nonce:shopCTL10n.shop_ct_nonce,id:e};jQuery.ajax({url:shopCTL10n.ajax_url,type:"POST",dataType:"JSON",data:t})}function admin_product_handling(){jQuery("body").on("click","#shop_ct_add_product_btn",function(){return shopCT.products.openPopup(),!1}),jQuery("body").on("click","#shop_ct_products_list_table table tbody .row-title",function(){var e=jQuery(this).parent().parent().parent().find('.shop-ct-check-column input[type="checkbox"]').val();return shopCT.products.openPopup(e),!1}),jQuery("body").on("click","#shop_ct_products_list_table table tbody .edit a",function(){var e=jQuery(this).parent().parent().parent().parent().find('.shop-ct-check-column input[type="checkbox"]').val();return shopCT.products.openPopup(e),!1}),jQuery("body").on("click","#shop_ct_products_list_table table tbody .trash a",function(){var e=jQuery(this).parent().parent().parent().parent().find('.shop-ct-check-column input[type="checkbox"]').val();return shopCT.products.trash_product(e),!1}),jQuery("body").on("click","#shop_ct_products_list_table table tbody .untrash a",function(){var e=jQuery(this).parent().parent().parent().parent().find('.shop-ct-check-column input[type="checkbox"]').val();return shopCT.products.untrash_product(e),!1}),jQuery("body").on("click","#shop_ct_products_list_table #doaction-top,#shop_ct_products_list_table #doaction-bottom",function(){var e=jQuery(this),t=jQuery(this).parent().find("select").val();return"bulk_actions"!=t&&shopCT.products.apply_bulk_action(e,t,"shop_ct_products_list_table"),!1}),jQuery("body").on("click","#shop_ct_products_list_table #post-query-submit",function(){var e=new Array,t=window.location.href,o=shopCT.deleteQueryArgs(["m","cat","paged"],t);"0"!=jQuery("#filter-by-date").val()&&(e.m=jQuery("#filter-by-date").val()),"0"!=jQuery("#cat").val()&&(e.cat=jQuery("#cat").val());var n=jQuery("body").find("#shop_ct_wrapper").data("current-page");return shopctIsEmpty(e)||(o=shopCT.addQueryArgs(e,o)),shopCT.changePage(o,n),!1})}function shopCTmageGallerySortable(){var e=jQuery(".product-image-gallery");e.length&&e.sortable({opacity:.5,placeholder:"ui-shop-ct-image-placeholder",items:"li:not(.product-image-gallery-add)"})}jQuery(window).ready(function(){shopCT.init(),shopCTAddMainEventListeners()}),jQuery(document).ready(function(){var o=shopCT.getLinkParams(window.location.href);o.hasOwnProperty("popup_id")&&setTimeout(function(){var e=o.popup_id,t=o.id||null;shopCT[e].openPopup(t)},0),jQuery("body").on("input keyup blur change",".mat-input-text input",function(){this.setAttribute("value",this.value),jQuery(this).val().length?jQuery(this).addClass("not-empty"):jQuery(this).removeClass("not-empty")}),jQuery("body").on("input keyup blur change",".mat-input-text textarea",function(){jQuery(this).text(this.value)}),jQuery(window).on("shop_ct_popup:rendered",function(e,t,o){jQuery(".shop_ct_popup_window .shop-ct-grid").length&&(window.shopCtPopupMasonry=jQuery(".shop_ct_popup_window .shop-ct-grid").masonry({itemSelector:".shop-ct-grid-item"}),jQuery(".shop_ct_popup_window").on("mouseup",function(){window.shopCtPopupMasonry.masonry()}))}),jQuery("body").on("click",".shop-ct-link",function(e){if(0==e.button){var t=jQuery(this).attr("href"),o=jQuery("body").find("#shop_ct_wrapper").data("current-page");return void 0!==jQuery(this).data("slug")&&(o=jQuery(this).data("slug"),jQuery("#shop_ct_wrapper").data("current-page",o)),shopCT.adminpanel.activate_links(o),shopCT.changePage(t,o),!1}}),jQuery("body").on("click",".shop-ct-toggle-button",function(){jQuery(this).parent().toggleClass("active")}),jQuery("body").on("click",".shop-ct-tabs-menu-link",function(){var e=jQuery(this).attr("href").replace("#",""),t="active";jQuery(this).parent().parent().hasClass("category-tabs")&&(t="tabs"),jQuery(this).parent().parent().find("."+t).removeClass(t),jQuery(this).parent().addClass(t);var o=jQuery("#"+e);return o.siblings().css("display","none"),o.css("display","block"),jQuery(window).triggerHandler("shop_ct_tabs:change"),!1}),jQuery("body").on("click",".shop-ct-search-submit",function(){var e=window.location.href,t=shopCT.deleteQueryArgs(["s","paged"],e),o=[],n=jQuery("body").find("#shop_ct_wrapper").data("current-page"),r=jQuery("#table-search-input");return""!=r.val()&&(o.s=encodeURIComponent(r.val())),shopctIsEmpty(o)||(t=shopCT.addQueryArgs(o,t)),shopCT.changePage(t,n),!1}),jQuery("body").on("keydown",".shop-ct-search",function(e){13==e.keyCode&&jQuery("#search-submit").click()}),jQuery("body").on("click",".shop-ct-post-status a",function(){var e=jQuery(this).attr("href"),t=jQuery("body").find("#shop_ct_wrapper").data("current-page");return shopCT.changePage(e,t),!1}),jQuery("body").on("click",".shop-ct-col-checkbox",function(e){if(jQuery(this).parents("tbody").length){if("undefined"==e.shiftKey)return!0;if(e.shiftKey){if(!lastClicked)return!0;checks=jQuery(lastClicked).closest("form").find(":checkbox").filter(":visible:enabled"),first=checks.index(lastClicked),last=checks.index(this),checked=jQuery(this).prop("checked"),0<first&&0<last&&first!=last&&(sliced=last>first?checks.slice(first,last):checks.slice(last,first),sliced.prop("checked",function(){return!!jQuery(this).closest("tr").is(":visible")&&checked}))}lastClicked=this;var t=jQuery(this).closest("tbody").find(":checkbox").filter(":visible:enabled").not(":checked");return jQuery(this).closest("table").children("thead, tfoot").find(":checkbox").prop("checked",function(){return 0===t.length}),!0}if(jQuery(this).parents("thead").length||jQuery(this).parents("tfoot").length){var o=jQuery,n=o(this),r=n.closest("table"),s=n.prop("checked"),i=e.shiftKey||n.data("wp-toggle");r.children("tbody").filter(":visible").children().children(".shop-ct-check-column").find(":checkbox").prop("checked",function(){return!o(this).is(":hidden,:disabled")&&(i?!o(this).prop("checked"):!!s)}),r.children("thead,  tfoot").filter(":visible").children().children(".shop-ct-check-column").find(":checkbox").prop("checked",function(){return!i&&!!s})}})}),shopCT.orders={openPopup:function(e){var t;t=e?"Edit Order":(e="new"," Add Order ");var o={action:"shop_ct_ajax",task:"order_popup",nonce:shopCTL10n.shop_ct_nonce,id:e};jQuery.ajax({url:shopCTL10n.ajax_url,type:"get",data:o,dataType:"json",beforeSend:function(){shopCT.pageLoading()},success:function(e){e.success?(shop_ct_popup.show("shop_ct_popup_block",{title:t,row_content:e.return_html,popup_type:"order"}),shopCT.pageLoaded()):console.log("no success")},error:function(e,t,o){console.log(o),shopCT.pageLoaded()}})},showOrderPopupAndReturnAjax:function(e){e=e||"new";var t={action:"shop_ct_ajax",task:"order_popup",nonce:shopCTL10n.shop_ct_nonce,id:e};return jQuery.ajax({url:shopCTL10n.ajax_url,type:"get",data:t,dataType:"json",beforeSend:function(){shopCT.pageLoading()}}).fail(function(e,t,o){console.log(o),shopCT.pageLoaded()})}},jQuery(document).ready(function(){var e=jQuery("body");e.on("click",".shop_ct_order_table th a",function(){var e=jQuery(this).attr("href"),t=jQuery("body").find("#shop_ct_wrapper").data("current-page");return shopCT.changePage(e,t),!1}),e.on("click","#shop_ct_add_order_btn",function(){return shopCT.orders.showOrderPopupAndReturnAjax().done(function(e){if(e.success){shop_ct_popup.show("shop_ct_popup_block",{title:"Add order",row_content:e.return_html,popup_type:"order"}),shopCT.pageLoaded()}else console.log("no success")}),!1}),e.on("click","#shop_ct_order_form .edit, #shop_ct_order_form .row-title, #shop_ct_order_form .edit-view-order",function(){var e=jQuery(this).parent().parent().siblings("th").children("input").attr("value");return void 0===e&&(e=jQuery(this).parent().siblings("th").children("input").attr("value")),shopCT.orders.showOrderPopupAndReturnAjax(e).done(function(e){e.success?(shop_ct_popup.show("shop_ct_popup_block",{title:e.title,row_content:e.return_html,popup_type:"order"}),shopCT.pageLoaded()):console.log("no success")}),!1}),e.on("click","#shop_ct_order_form #doaction-top, #shop_ct_order_form #doaction-bottom",function(){for(var e,t,o=jQuery(this).siblings("select").val(),n=[],r=jQuery("#shop_ct_order_form").find("table tbody th input:checked"),s={},i=0;i<r.length;i++)n.push(jQuery(r[i]).val());if(0==n.length)return!1;switch(o){case"bulk_actions":break;case"delete":e="delete_order";break;case"complete":e="change_order_status",t="shop-ct-completed";break;case"processing":e="change_order_status",t="shop-ct-processing";break;case"on_hold":e="change_order_status",t="shop-ct-on-hold"}return"delete_order"==e&&void 0===t?s={action:"shop_ct_ajax",task:e,nonce:shopCTL10n.shop_ct_nonce,ids:n}:void 0!==e&&void 0!==t&&(s={action:"shop_ct_ajax",task:e,nonce:shopCTL10n.shop_ct_nonce,ids:n,status:t}),isEmpty(s)?void 0:("delete_order"===s.task?(jQuery("#shop_ct_error_dialog_wrapper").html("<p>Are you sure you want to delete these orders ?</p>"),jQuery("#shop_ct_error_dialog_wrapper").dialog({dialogClass:"shop_ct_error_dialog",draggable:!1,resizable:!1,closeOnEscape:!0,hide:100,height:300,modal:!0,closeText:'<span class="dashicons dashicons-no"></span>',position:{my:"center",at:"center",of:"#shop_ct_wrapper"},title:"Delete "+(1==s.ids.length?"Order":"Orders"),buttons:{YES:function(){jQuery(this).dialog("close"),e="change_gift_status",t="delete",jQuery(window).trigger("shop_ct_orders:row_actions",s)},NO:function(){return jQuery(this).dialog("close"),!1}}})):jQuery(window).trigger("shop_ct_orders:row_actions",s),!1)}),jQuery(window).on("shop_ct_orders:row_actions",function(e,t){jQuery.ajax({url:shopCTL10n.ajax_url,type:"POST",dataType:"JSON",data:t}).done(function(){var e=jQuery("body").find("#shop_ct_wrapper").data("current-page");shopCT.changePage("",e)})}),e.on("click","i.shop-ct-order-actions",function(){var e=jQuery(this).parent().siblings("th").children("input").val(),t=jQuery(this).attr("data-status"),o={action:"shop_ct_ajax",task:"change_order_status",nonce:shopCTL10n.shop_ct_nonce,id:e,status:t};jQuery.ajax({url:shopCTL10n.ajax_url,type:"POST",dataType:"JSON",data:o}).done(function(){var e=jQuery("body").find("#shop_ct_wrapper").data("current-page");shopCT.changePage("",e)})})}),jQuery(window).on("shop_ct_popup:ready",function(e,t,o){"order"===o.popup_type&&(jQuery(".order-datepicker").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0}),jQuery(".order-items-list").on("click",".delete-order-item",function(){jQuery(this).closest(".order-items-list-item").remove(),jQuery(".order-items-list-item").length||jQuery(".order-items-list").append('<p class="order-items-list-empty">'+jQuery(".order-items-list").data("empty")+"</p>")}),jQuery(".order-add-new-item").on("click",function(){var e=jQuery(".order-new-item-product").val(),t=parseInt(jQuery(".order-new-item-quantity").val());if(!e)return!1;var o=jQuery('.order-items-list-item[data-product-id="'+e+'"]');if(o.length){var n=o.find('input[type="number"]');return n.val(parseInt(n.val())+t),!1}return jQuery.ajax({url:shopCTL10n.ajax_url,type:"post",data:{action:"shop_ct_get_order_item",product_id:e,quantity:t,nonce:shopCTL10n.shop_ct_nonce}}).done(function(e){jQuery(".order-items-list").append(e),jQuery(".order-items-list-empty").length&&jQuery(".order-items-list-empty").remove(),window.shopCtPopupMasonry.masonry()}),!1}),jQuery(".order-save").on("click",function(){var e=jQuery("#order_popup_form").serialize(),t=jQuery(this);return jQuery.ajax({url:shopCTL10n.ajax_url,method:"post",data:e,dataType:"json",beforeSend:function(){t.attr("disabled","disabled"),t.parent().find(".spinner").css("visibility","visible")}}).always(function(){t.removeAttr("disabled"),t.parent().find(".spinner").css("visibility","hidden")}).done(function(e){if(e.success){shop_ct_popup.showToastr(shopCTL10n.order_published),shop_ct_popup.remove("shop_ct_popup_block");var t=jQuery("body").find("#shop_ct_wrapper").data("current-page");shopCT.changePage("",t),jQuery("#order_popup_form").data("submited","true")}}).fail(function(e){shop_ct_popup.showToastr(shopCTL10n.serverSideError,"error")}),!1}))}),jQuery(window).on("shop_ct_popup:beforeClose",function(e,t,o){if("order"===o.popup_type){var n=jQuery("#shop_ct_order_popup_main_form");if("true"==n.data("changed")&&"true"!=n.data("submited"))confirm(shopCTL10n.popupAlert)?"1"==jQuery("#popup-control-auto_draft").val()&&deleteAutoDraft():window.shop_ct_popup_close=!1;else"true"!=n.data("submited")&&1==jQuery(jQuery("#popup-control-auto_draft")[0]).val()&&deleteOrderAutoDraft()}}),jQuery(document).ready(function(){var e=jQuery("body");console.log("a"),e.on("click","#shop_ct_bacs_accounts a.remove_rows",function(){return jQuery('#shop_ct_bacs_accounts input[type="checkbox"]:checked:not(#cb-select-all)').closest("tr").remove(),jQuery("#cb-select-all").prop("checked",!1),!1}),e.on("click","#shop_ct_bacs_accounts a.add",function(){var e=jQuery("#shop_ct_bacs_accounts").find("tbody .account").size();return jQuery('<tr class="account">\t\t\t\t\t\t\t\t\t<td class="shop-ct-check-column"><input id="cb-select-'+e+'" type="checkbox" value="'+e+'"</td>\t\t\t\t\t\t\t\t\t<td><input type="text" name="shop_ct_bacs_accounts['+e+'][account_name]" /></td>\t\t\t\t\t\t\t\t\t<td><input type="text" name="shop_ct_bacs_accounts['+e+'][account_number]" /></td>\t\t\t\t\t\t\t\t\t<td><input type="text" name="shop_ct_bacs_accounts['+e+'][bank_name]" /></td>\t\t\t\t\t\t\t\t\t<td><input type="text" name="shop_ct_bacs_accounts['+e+'][sort_code]" /></td>\t\t\t\t\t\t\t\t\t<td><input type="text" name="shop_ct_bacs_accounts['+e+'][iban]" /></td>\t\t\t\t\t\t\t\t\t<td><input type="text" name="shop_ct_bacs_accounts['+e+'][bic]" /></td>\t\t\t\t\t\t\t\t</tr>').appendTo("#shop_ct_bacs_accounts tbody"),!1})}),shopCT.reviews={orderby_arr:["author","in_response_to","submitted_on"],ordering_arr:["ASC","DESC"],openPopup:function(e,t){var n,r={action:"shop_ct_ajax",task:"review_popup",nonce:shopCTL10n.shop_ct_nonce,id:e};null==t?n="Edit Review":(n="Reply",r.parent_id=t),jQuery.ajax({url:shopCTL10n.ajax_url,type:"get",data:r,dataType:"json",beforeSend:function(){shopCT.pageLoading()},success:function(e,t,o){e.success?(shop_ct_popup.show("shop_ct_popup_block",{title:n,row_content:e.return_html}),shopCT.pageLoaded(),void 0!==r.parent_id&&jQuery("body").find("#popup-control-author_name, #popup-control-author_email, #popup-control-author_url").prop("readonly",!0)):console.log("no success")},error:function(e,t,o){console.log(o),shopCT.pageLoaded()}})}},jQuery(document).ready(function(){function e(){var e=jQuery("body").find("#shop_ct_review_form .shop_ct_review_table tbody tr");jQuery(e).each(function(e,t){var o=jQuery(t).children(".column-table_actions").children("i")[0];"approve"!=jQuery(o).attr("data-action")||jQuery(o).hasClass("spam")?jQuery(o).hasClass("spam")&&(jQuery(t).children("th").css("border-left","4px solid rgb(187, 47, 0)"),jQuery(t).css("background-color","rgb(243, 225, 209)")):(jQuery(t).css("background-color","#fef7f1"),jQuery(t).children("th").css("border-left","4px solid #d54e21"))})}var n,r;e(),jQuery(window).on("shopCT:load",function(){e()}),jQuery("body").on("click",".shop_ct_review_table th a",function(){var e=jQuery(this).attr("href"),t=jQuery("body").find("#shop_ct_wrapper").data("current-page");return shopCT.changePage(e,t),!1}),jQuery("body").on("click",".shop_ct_review_content",function(){var e=jQuery(this).parent().siblings("th").children("input").val();return n=e,shopCT.reviews.openPopup(e),!1}),jQuery("body").on("click","#popup-control-update_button",function(){var e={author_name:jQuery("#popup-control-author_name").val(),author_email:jQuery("#popup-control-author_email").val(),author_url:jQuery("#popup-control-author_url").val(),status:jQuery("#control-container-status_radio input:radio:checked").val(),content:jQuery("#popup-control-content").val(),rating:jQuery("#shop-ct-control-rating_dropdown").val()?jQuery("#shop-ct-control-rating_dropdown").val():0},t={comment_id:n,action:"shop_ct_ajax",task:"update_review",nonce:shopCTL10n.shop_ct_nonce,form_data:e};return void 0!==r&&(t.parent_id=r),jQuery.ajax({url:shopCTL10n.ajax_url,type:"POST",data:t,dataType:"JSON"}).done(function(e){var t=jQuery("body").find("#shop_ct_wrapper").data("current-page");shop_ct_popup.remove("shop_ct_popup_block"),shopCT.changePage("",t),r=n=void 0}).fail(function(e,t){console.log(t)}),!1}),jQuery("body").on("click",".reviews_table_action",function(){var e=jQuery(this).attr("data-action"),t=jQuery(this).parent().siblings("th").children("input:checkbox").val(),o={action:"shop_ct_ajax",nonce:shopCTL10n.shop_ct_nonce};switch(o.id=t,o.task="change_review_status",o.status=e){case"edit_view":n=t,shopCT.reviews.openPopup(t);break;case"reply":r=t,shopCT.reviews.openPopup("reply",t);break;default:"trash"===e?(jQuery("#shop_ct_error_dialog_wrapper").html("<p>Are you sure you want to delete this review ?</p>"),jQuery("#shop_ct_error_dialog_wrapper").dialog({dialogClass:"shop_ct_error_dialog",draggable:!1,resizable:!1,closeOnEscape:!0,hide:100,height:300,modal:!0,closeText:'<span class="dashicons dashicons-no"></span>',position:{my:"center",at:"center",of:"#shop_ct_wrapper"},title:"Delete Reviews",buttons:{YES:function(){jQuery(this).dialog("close"),jQuery(window).trigger("shop_ct_reviews:row_actions",o)},NO:function(){return jQuery(this).dialog("close"),!1}}})):jQuery(window).trigger("shop_ct_reviews:row_actions",o)}}),jQuery(window).on("shop_ct_reviews:row_actions",function(e,t){void 0!==t.status&&void 0!==t.task&&jQuery.ajax({url:shopCTL10n.ajax_url,type:"POST",data:t,dataType:"JSON"}).done(function(){var e=jQuery("body").find("#shop_ct_wrapper").data("current-page");shopCT.changePage("",e)}).fail(function(e,t){console.log(t)})}),jQuery("body").on("click","#shop_ct_review_form #doaction-top , #shop_ct_review_form ~ div #doaction-bottom",function(){for(var e,t,o=jQuery(this).siblings("select").val(),n=[],r=[],s=jQuery("#shop_ct_review_form table tbody th input:checked"),i={},a=0;a<s.length;a++){n.push(jQuery(s[a]).val());var c=jQuery(s[a]).parent().siblings("td.column-rating").text();jQuery.isNumeric(c)?r.push(c):r.push("")}switch(o){case"bulk_actions":return!1;case"trash":e="change_review_status";break;case"approve":e="change_review_status",t="approve";break;case"hold":e="change_review_status",t="hold";break;case"spam":e="change_review_status",t="spam"}void 0!==e&&void 0===t?i={action:"shop_ct_ajax",task:e,nonce:shopCTL10n.shop_ct_nonce,ids:n,rts:r}:void 0!==e&&void 0!==t&&(i={action:"shop_ct_ajax",task:e,nonce:shopCTL10n.shop_ct_nonce,ids:n,status:t,rts:r}),isEmpty(i)||(void 0===i.status?(jQuery("#shop_ct_error_dialog_wrapper").html("<p>Are you sure you want to delete these reviews ?</p>"),jQuery("#shop_ct_error_dialog_wrapper").dialog({dialogClass:"shop_ct_error_dialog",draggable:!1,resizable:!1,closeOnEscape:!0,hide:100,height:300,modal:!0,closeText:'<span class="dashicons dashicons-no"></span>',position:{my:"center",at:"center",of:"#shop_ct_wrapper"},title:"Delete Reviews",buttons:{YES:function(){jQuery(this).dialog("close"),jQuery(window).trigger("shop_ct_reviews:bulk_actions",i)},NO:function(){return jQuery(this).dialog("close"),!1}}})):jQuery(window).trigger("shop_ct_reviews:bulk_actions",i))}),jQuery(window).on("shop_ct_reviews:bulk_actions",function(e,t){jQuery.ajax({url:shopCTL10n.ajax_url,type:"POST",dataType:"JSON",data:t}).done(function(){var e=jQuery("body").find("#shop_ct_wrapper").data("current-page");shopCT.changePage("",e)}).fail(function(e,t){console.log(e,t)})})}),shopCT.shippingZones={continents:[],openPopup:function(e){var t;t=e?"Edit Shipping Zone":(e="new","Add Shipping Zone");var o={action:"shop_ct_ajax",task:"shipping_zone_popup",nonce:shopCTL10n.shop_ct_nonce,id:e};return jQuery.ajax({url:shopCTL10n.ajax_url,type:"get",data:o,dataType:"json",beforeSend:function(){shopCT.pageLoading()}}).done(function(e){e.success?(e.hasOwnProperty("continents")&&(shopCT.shippingZones.continents=e.continents),shop_ct_popup.show("shop_ct_popup_block",{title:t,row_content:e.return_html}),shopCT.pageLoaded()):console.log("no success")}).fail(function(e,t,o){console.log(o),shopCT.pageLoaded()})}},jQuery(document).ready(function(){jQuery("body").on("click","#shop_ct_add_shipping_zone_btn",function(e){return shopCT.shippingZones.openPopup("new"),!1}),jQuery("body").on("submit","#shop_ct_shipping_zone_popup_form",function(e){e.preventDefault();var t=jQuery(this).find("#popup-control-id").val(),o=jQuery(this).find("#popup-control-name").val(),n=jQuery(this).find("#popup-control-cost").val(),r=jQuery(this).find("#shop-ct-control-status").val(),s=jQuery(this).find("#popup-control-countries").val();jQuery.ajax({url:shopCTL10n.ajax_url,dataType:"JSON",type:"POST",data:{action:"shop_ct_ajax",task:"save_shipping_zone",nonce:shopCTL10n.shop_ct_nonce,id:t,name:o,cost:n,status:r,countries:s}}).done(function(){var e=jQuery("body").find("#shop_ct_wrapper").data("current-page");shop_ct_popup.remove("shop_ct_popup_block"),shopCT.changePage("",e)})}),jQuery("body").on("click","#shop_ct_shipping_zone_form a.edit",function(e){e.preventDefault();var t=jQuery(this).closest("tr").find("th input.shop-ct-col-checkbox").val();shopCT.shippingZones.openPopup(t||"new")}),jQuery("body").on("click","#shop_ct_shipping_zone_form a.delete",function(e){e.preventDefault();var t=jQuery(this).closest("tr").find("th input.shop-ct-col-checkbox").val();if(!confirm("Are you sure yoy want to delete this zone ?"))return!1;jQuery.ajax({url:shopCTL10n.ajax_url,dataType:"JSON",type:"POST",data:{action:"shop_ct_ajax",task:"delete_shipping_zone",nonce:shopCTL10n.shop_ct_nonce,id:t}}).done(function(){var e=jQuery("body").find("#shop_ct_wrapper").data("current-page");shopCT.changePage("",e)})})}),shopCT.products={openPopup:function(e){var t={action:"shop_ct_ajax",task:"product_popup",nonce:shopCTL10n.shop_ct_nonce,id:e};jQuery.ajax({url:shopCTL10n.ajax_url,type:"get",data:t,dataType:"json",beforeSend:function(){shopCT.pageLoading()}}).done(function(e){e.success&&(shop_ct_popup.show("shop_ct_popup_block",{title:e.title,row_content:e.return_html,popup_type:"product"}),shopCT.pageLoaded())}).fail(function(){shopCT.pageLoaded()})},delete_product:function(e,t,r){t=void 0!==t&&t,r=void 0!==r&&r;var o={action:"shop_ct_ajax",task:"delete_product",nonce:shopCTL10n.shop_ct_nonce,id:e,force_delete:t};jQuery.ajax({url:shopCTL10n.ajax_url,type:"get",data:o,dataType:"json",beforeSend:function(e){},success:function(e,t,o){if(r){var n=jQuery("body").find("#shop_ct_wrapper").data("current-page");shopCT.changePage("",n)}},error:function(e,t,o){}})},trash_product:function(e){var t={action:"shop_ct_ajax",task:"trash_product",nonce:shopCTL10n.shop_ct_nonce,id:e};jQuery.ajax({url:shopCTL10n.ajax_url,type:"get",data:t,async:!1,dataType:"json",beforeSend:function(e){},success:function(e,t,o){if(e.success){var n=jQuery("body").find("#shop_ct_wrapper").data("current-page");shopCT.changePage("",n)}},error:function(e,t,o){}})},untrash_product:function(e){var t={action:"shop_ct_ajax",task:"untrash_product",nonce:shopCTL10n.shop_ct_nonce,id:e};jQuery.ajax({url:shopCTL10n.ajax_url,type:"get",data:t,async:!1,dataType:"json",beforeSend:function(e){},success:function(e,t,o){if(e.success){var n=jQuery("body").find("#shop_ct_wrapper").data("current-page");shopCT.changePage("",n)}},error:function(e,t,o){}})},apply_bulk_action:function(e,t,o){var n=[],r=jQuery("#shop_ct_error_dialog_wrapper");switch(jQuery.each(jQuery("#"+o+" table input[type='checkbox']:checked"),function(){n.push(jQuery(this).val())}),t){case"trash":shopCT.products.trash_product(n);break;case"restore":case"untrash":shopCT.products.untrash_product(n);break;case"delete":r.html("<p>"+shopCTL10n.ask_delete_products+"</p>"),r.dialog({dialogClass:"shop_ct_error_dialog",draggable:!1,resizable:!1,closeOnEscape:!0,hide:100,height:300,modal:!0,closeText:'<span class="dashicons dashicons-no"></span>',position:{my:"center",at:"center",of:"#shop_ct_wrapper"},title:"Delete Products",buttons:{YES:function(){return jQuery(this).dialog("close"),shopCT.products.delete_product(n,!0,!0),!1},NO:function(){jQuery(this).dialog("close")}}});break;default:return!1}}},jQuery(window).ready(function(){admin_product_handling()}),jQuery(window).on("shop_ct_popup:ready",function(e,t,o){if("product"===o.popup_type){shopCTmageGallerySortable(),shopCTproductTags.init(),jQuery(".product-save").on("click",function(){jQuery("#product_content").val(wp.editor.getContent("product_content"));var e=jQuery("#product_popup_form").serialize(),t=jQuery(this);jQuery.ajax({url:shopCTL10n.ajax_url,method:"post",data:e,dataType:"json",beforeSend:function(){t.attr("disabled","disabled"),t.parent().find(".spinner").css("visibility","visible")}}).always(function(){t.removeAttr("disabled"),t.parent().find(".spinner").css("visibility","hidden")}).done(function(e){shop_ct_popup.showToastr(shopCTL10n.product_published),shop_ct_popup.remove("shop_ct_popup_block");var t=jQuery("body").find("#shop_ct_wrapper").data("current-page");shopCT.changePage("",t),jQuery("#product_popup_form").data("submited","true")}).fail(function(e){shop_ct_popup.showToastr(shopCTL10n.serverSideError,"error")})}),jQuery(".product-add-attribute").on("click",function(){var e=jQuery("#product-new-attribute-taxonomy").val();return jQuery.ajax({url:shopCTL10n.ajax_url,type:"get",data:{action:"shop_ct_get_product_attribute_item",product_id:jQuery("#product_id").val(),attribute_taxonomy:e,nonce:shopCTL10n.shop_ct_nonce}}).done(function(e){jQuery(".product-attributes-list").append(e),window.shopCtPopupMasonry.masonry()}),!1}),jQuery(".product-attributes-list").on("click",".product-attributes-delete",function(){return jQuery(this).closest(".product-attributes-item").remove(),window.shopCtPopupMasonry.masonry(),!1});var r=jQuery(".product-datepicker").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0,onSelect:function(e){var t=jQuery(this).is("#product_sale_price_dates_from")?"minDate":"maxDate",o=jQuery(this).data("datepicker"),n=jQuery.datepicker.parseDate(o.settings.dateFormat||jQuery.datepicker._defaults.dateFormat,e,o.settings);r.not(this).datepicker("option",t,n),this.setAttribute("value",this.value)}});function n(){jQuery(".product-downloadable-files-block .ui-sortable").sortable({handle:".sort",placeholder:"ui-sortable-placeholder-shop-ct"})}function s(){var e=jQuery("#product_virtual:checked").size(),t=jQuery("#product_downloadable:checked").size(),o=jQuery("#product_manage_stock:checked").size();jQuery(".hide_if_downloadable, .hide_if_virtual").css("display","block"),jQuery(".show_if_downloadable, .show_if_virtual, .show_if_managing_stock").css("display","none"),t&&(jQuery(".show_if_downloadable").css("display","block"),jQuery(".hide_if_downloadable").css("display","none")),e&&(jQuery(".show_if_virtual").css("display","block"),jQuery(".hide_if_virtual").css("display","none")),o&&jQuery(".show_if_managing_stock").css("display","block"),setTimeout(function(){window.shopCtPopupMasonry.masonry()},0)}jQuery(".product-schedule-sale").on("click",function(){var e=jQuery(".product-sale-dates"),t=parseFloat(jQuery("#product_sale_price").val()),o=parseFloat(jQuery("#product_regular_price").val());if(e.hasClass("-hide")){if(""==t.length||isNaN(t)||o<=t)return shop_ct_popup.showToastr(shopCTL10n.invalidSalePrice,"error"),!1;jQuery(this).text(jQuery(this).data("remove")),e.removeClass("-hide")}else jQuery("#product_sale_price_dates_from,#product_sale_price_dates_to").val(""),jQuery("#product_sale_price_dates_from_hours,#product_sale_price_dates_from_minutes, #product_sale_price_dates_to_hours, #product_sale_price_dates_to_minutes").val("00"),jQuery(this).text(jQuery(this).data("original")),e.addClass("-hide");return window.shopCtPopupMasonry.masonry(),!1}),wp.editor.initialize("product_content",{tinymce:{wpautop:!0,plugins:"charmap colorpicker compat3x directionality fullscreen hr image lists media paste tabfocus textcolor wordpress wpautoresize wpdialogs wpeditimage wpemoji wpgallery wplink wptextpattern wpview",toolbar1:"formatselect bold italic | bullist numlist | blockquote | alignleft aligncenter alignright | link unlink | wp_more | spellchecker"},quicktags:!0}),jQuery(".product-image-gallery-add").on("click",function(){var o=jQuery(this),t=wp.media({title:"Add Images to Product Gallery",library:{type:"image"},button:{text:"Add to gallery"},multiple:!0}).on("select",function(){var e=t.state().get("selection").toJSON();jQuery.each(e,function(e,t){o.closest(".product-image-gallery").append('<li>\n<div class="product-image-gallery-inner">\n                        <img src="'+t.url+'"/>\n                        <button class="product-image-gallery-delete"><i class="fa fa-times"></i></button>\n                        <input type="hidden" name="post_meta[product_image_gallery][]" id="post_meta[product_image_gallery][]" value="'+t.id+'" />\n</div>\n                    </li>')}),window.shopCtPopupMasonry.masonry(),shopCTmageGallerySortable()}).open();return!1}),jQuery(".product-image-gallery").on("click",".product-image-gallery-delete",function(){return jQuery(this).closest("li").remove(),!1}),jQuery(".product-permalink-block").on("click",".edit-slug",function(){!function(){jQuery;var e,t,n,o,r=jQuery("#product_id").val(),s=0,i=jQuery("#product_name"),a=i.val(),c=jQuery("#sample-permalink"),l=c.html(),p=jQuery("#sample-permalink a").html(),u=jQuery("#edit-slug-buttons"),d=u.html(),h=jQuery("#editable-post-name-full");for(h.find("img").replaceWith(function(){return this.alt}),h=h.html(),c.html(p),n=jQuery("#editable-post-name"),o=n.html(),u.html('<button type="button" class="save button button-small">'+shopCTL10n.ok+'</button> <button type="button" class="cancel button-link">'+shopCTL10n.cancel+"</button>"),u.children(".save").click(function(){var o=n.children("input").val();o!=jQuery("#editable-post-name-full").text()?jQuery.post(shopCTL10n.ajax_url,{action:"sample-permalink",post_id:r,new_slug:o,new_title:jQuery("#product_title").val(),samplepermalinknonce:jQuery("#samplepermalinknonce").val()},function(e){var t=jQuery("#edit-slug-box");t.html(e),t.hasClass("hidden")&&t.fadeIn("fast",function(){t.removeClass("hidden")}),u.html(d),c.html(l),i.val(o),jQuery(".edit-slug").focus()}):u.children(".cancel").click()}),u.children(".cancel").click(function(){jQuery("#view-post-btn").show(),n.html(o),u.html(d),c.html(l),i.val(a),jQuery(".edit-slug").focus()}),e=0;e<h.length;++e)"%"==h.charAt(e)&&s++;t=s>h.length/4?"":h,n.html('<input type="text" id="new-post-slug" value="'+t+'" autocomplete="off" />').children("input").keydown(function(e){var t=e.which;13===t&&(e.preventDefault(),u.children(".save").click()),27===t&&u.children(".cancel").click()}).keyup(function(){i.val(this.value)}).focus()}()}),jQuery(".product-add-downloadable-file").on("click",function(){var e=jQuery(this),t=e.data("row"),o=e.closest("table").find("tbody");return o.find("tr.no-items").length&&o.find("tr.no-items").remove(),o.append(t),n(),window.shopCtPopupMasonry.masonry(),!1}),jQuery(".product-downloadable-files-block .ui-sortable").find("tr:not(.no-items)").length&&n(),jQuery(".product-downloadable-files-block").on("click",".upload_button",function(){var t=jQuery(this),o=wp.media({title:shopCTL10n.addDownloadableFile,button:{text:shopCTL10n.insertFile},multiple:!1}).on("select",function(){var e=o.state().get("selection").first().toJSON();t.parent().find("input[type='url']").val(e.url),t.parent().parent().find("input[type='text']").val().length||t.parent().parent().find("input[type='text']").val(e.name)}).open();return!1}),jQuery(".product-downloadable-files-block").on("click",".remove i",function(){1==jQuery(this).closest("tbody").find("tr").length&&jQuery(this).closest("tbody").append('<tr class="no-items"><td colspan="7">'+shopCTL10n.noFiles+"</td></tr>"),jQuery(this).closest("tr").remove()}),s(),jQuery("#product_downloadable,#product_virtual,#product_manage_stock").on("change",function(){s()})}}),jQuery(window).on("shop_ct_popup:beforeClose",function(e,t,o){if("product"===o.popup_type){var n=jQuery("#product_popup_form");console.log(n.data("changed"));var r,s=jQuery("#product_autodraft").val();if("true"==n.data("changed")&&"true"!=n.data("submited"))0==confirm(shopCTL10n.popupAlert)?window.shop_ct_popup_close=!1:1==s&&(r=jQuery("#product_id").val(),shopCT.products.delete_product(r,!0));else"true"!=n.data("submited")&&1==s&&(r=jQuery("#product_id").val(),shopCT.products.delete_product(r,!0))}}),window.addEventListener("beforeunload",function(e){if(jQuery("#product_popup_form").length){var t=jQuery("#product_popup_form");if("true"==t.data("changed")&&"true"!=t.data("submited")){var o=shopCTL10n.popupAlert;return e.returnValue=o}}}),jQuery(window).unload(function(e){if(jQuery("#product_popup_form").length&&1==jQuery("#product_autodraft").val()){var t=jQuery("#product_id").val();shopCT.products.delete_product(t,!0)}}),jQuery(window).on("shop_ct_popup:afterClose",function(e,t,o){if("product"===o.popup_type&&wp.editor.remove("product_content"),!jQuery(".shop-ct-product-cat-checklist").length)return!1;jQuery.ajax({url:shopCTL10n.ajax_url,type:"get",data:{action:"shop_ct_get_product_cat_checklist",product_id:jQuery("#product_id").val()}}).done(function(e){jQuery(".shop-ct-product-cat-checklist-items").html(e),window.shopCtPopupMasonry.masonry()})});var shopCTarrayUniqueNoempty=function(e){var o=[];return jQuery.each(e,function(e,t){(t=jQuery.trim(t))&&-1===jQuery.inArray(t,o)&&o.push(t)}),o},shopCTproductTags={getTags:function(){return jQuery(".product-tags-list input").map(function(){return this.value}).get()},addTags:function(){var e=jQuery("#product_tags_input").val();if(void 0===e||""===e)return!1;var t=shopCTproductTags.clean(e).split(","),o=shopCTproductTags.getTags();if(!t.length)return!1;o=o?jQuery.merge(o,t):t,o=shopCTarrayUniqueNoempty(o),shopCTproductTags.build(o),jQuery("#product_tags_input").val(""),window.shopCtPopupMasonry.masonry()},clean:function(e){return e.replace(/\s*,\s*/g,",").replace(/,+/g,",").replace(/[,\s]+$/,"").replace(/^[,\s]+/,"")},build:function(e){jQuery(".product-tags-list").html(""),jQuery.each(e,function(e,t){jQuery(".product-tags-list").append('<span class="product-tag-item">\n                            <input type="hidden" name="product_tags[]" value="'+t+'" />\n                            <span class="product-tag-item-name">'+t+'</span>\n                            <span class="product-tag-item-delete"><i class="fa fa-times"></i></span>\n                        </span>')})},init:function(){jQuery("#product_tags_input").keypress(function(e){13==e.which&&(e.preventDefault(),shopCTproductTags.addTags())}),jQuery(".product-tags-add").on("click",function(e){return e.preventDefault(),shopCTproductTags.addTags(),!1}),jQuery(".product-tags-list").on("click",".product-tag-item-delete",function(e){return e.preventDefault(),jQuery(this).parent().remove(),!1})}};function handle_no_products(){0==jQuery(".shop_ct_attr_terms_table>tbody").find("tr").not(".no-items").length?jQuery(".no-items").show():jQuery(".no-items").hide()}shopCT.emails={id:"",openPopup:function(e){this.id=e;var t={action:"shop_ct_ajax",task:"email_popup",nonce:shopCTL10n.shop_ct_nonce,id:e};jQuery.ajax({url:shopCTL10n.ajax_url,type:"get",data:t,dataType:"json",beforeSend:function(){shopCT.pageLoading()}}).done(function(e){e.success?(shop_ct_popup.show("shop_ct_popup_block",{title:"Edit Email Settings",row_content:e.return_html}),shopCT.pageLoaded()):console.log("no success")}).fail(function(e,t,o){console.log(o),shopCT.pageLoaded()})}},jQuery(document).ready(function(){jQuery("body").on("click",".shop_ct_email_config_icon",function(){var e=jQuery(this).closest("tr").data("id");shopCT.emails.openPopup(e)}),jQuery("body").on("click","#shop_ct_email_settings_form #popup-control-submit",function(){for(var e=jQuery(this).closest("form").serializeArray(),t={},o=0,n=e.length;o<n;++o)t[e[o].name]=e[o].value;if(null==t.status)t.status="no";else switch(t.status){case"true":t.status="yes";break;case"false":t.status="no"}t.id=shopCT.emails.id;var r={action:"shop_ct_ajax",task:"save_email_settings",nonce:shopCTL10n.shop_ct_nonce,data:t};return jQuery.ajax({url:shopCTL10n.ajax_url,type:"POST",data:r,dataType:"JSON"}).done(function(){var e=jQuery("body").find("#shop_ct_wrapper").data("current-page");shop_ct_popup.remove("shop_ct_popup_block"),shopCT.changePage("",e)}).fail(function(){console.log("Oops")}),!1}),jQuery("body").on("keyup change",'#popup-control-receiver:not(".shop_ct_single_receiver")',function(){var e=jQuery("#control-container-customer_heading"),t=jQuery("#control-container-customer_subject"),o=jQuery("#control-container-customer_message");-1<jQuery(this).val().indexOf("{customer}")?(e.removeClass("invisible"),t.removeClass("invisible"),o.removeClass("invisible")):(e.addClass("invisible"),t.addClass("invisible"),o.addClass("invisible"))})}),jQuery(window).ready(function(){var e=jQuery("body");jQuery(window).on("shopCT:load",function(){jQuery("#shop_ct_wrapper").find(".jscolor").each(function(){new jscolor(this)})}),e.on("click",".js-ripple",function(e){var t=jQuery(this),o=t.parent().offset(),n=t.find(".c-ripple__circle"),r=e.pageX-o.left,s=e.pageY-o.top;n.css({top:s+"px",left:r+"px"}),t.addClass("is-active").off("animationend webkitAnimationEnd oanimationend MSAnimationEnd").on("animationend webkitAnimationEnd oanimationend MSAnimationEnd",function(){jQuery(this).removeClass("is-active")})}),e.on("click",".shop_ct_save_settings",function(){var e=jQuery(".shop_ct_settings_form").serialize();return shopCT.settings_save_data={action:"shop_ct_ajax",task:"save_settings",nonce:shopCTL10n.shop_ct_nonce,formData:e},jQuery.ajax({url:shopCTL10n.ajax_url,type:"post",data:shopCT.settings_save_data,dataType:"json"}).done(function(e){e.success&&shop_ct_popup.showToastr("Settings Saved Successfully")}).fail(function(e,t,o){}),!1}),e.on("change","#shop_ct_shop_ct_specific_allowed_countries",function(){var e=jQuery(this).val();"specific"==e?jQuery("#specific_countries_div").css("display","inline-flex"):"all"==e&&jQuery("#specific_countries_div").css("display","none")}),"specific"==jQuery("#shop_ct_shop_ct_specific_allowed_countries").val()&&jQuery("#specific_countries_div").css("display","inline-flex"),e.on("click","#shop_ct_shop_ct_enable_review_rating",function(){jQuery(this).is(":checked")?jQuery("body").find("#product_settings_enable_ratings_div").css("display","block"):jQuery("body").find("#product_settings_enable_ratings_div").css("display","none")}),e.on("click",".shop_ct_section_navigation li",function(){jQuery("body").find(".shop_ct_section_navigation li").removeClass("active"),jQuery(this).addClass("active");var e=jQuery(this).attr("rel");jQuery("body").find(".shop_ct_hidden_section").removeClass("active"),jQuery("body").find("#"+e).addClass("active")}),e.on("change","#shop_ct_shop_ct_allowed_countries",function(){"all"==jQuery(this).val()?jQuery("#control-container-shop_ct_specific_ship_to_countries,#control-container-shop_ct_button_select_shipping_countries").addClass("hidden"):jQuery("#control-container-shop_ct_specific_ship_to_countries,#control-container-shop_ct_button_select_shipping_countries").removeClass("hidden")}),e.on("click","#select_all_countries_btn",function(){var e=jQuery("#shop_ct_shop_ct_specific_ship_to_countries").find("option");e.attr("selected","selected"),e.closest("select").trigger("change")}),e.on("click","#select_no_countries_btn",function(){var e=jQuery("#shop_ct_shop_ct_specific_ship_to_countries").find("option");e.removeAttr("selected"),e.closest("select").trigger("change")}),e.on("change","#shop_ct_shop_ct_currency",function(){var e=jQuery(this).find('option[value="'+jQuery(this).val()+'"]').text().match(/\((.+)\)/)[1],t=jQuery("#shop_ct_shop_ct_currency_pos").val();jQuery("#shop_ct_shop_ct_currency_pos").empty().append('<option value="left" '+("left"===t?'selected="selected"':"")+">"+currencyPositionTexts.left+" ("+e+'99.99)</option><option value="right" '+("right"===t?'selected="selected"':"")+">"+currencyPositionTexts.right+" (99.99"+e+')</option><option value="left-space" '+("left-space"===t?'selected="selected"':"")+">"+currencyPositionTexts.left_with_space+" ("+e+' 99.99)</option><option value="right-space" '+("right-space"===t?'selected="selected"':"")+">"+currencyPositionTexts.right_with_space+" (99.99 "+e+")</option>")})}),shopCT.terms={orderby_arr:["ID","name","description","slug","count"],ordering_arr:["ASC","DESC"],page:"",per_page:"",total_pages:"",total_terms_count:"",openPopup:function(e,t,o,n){var r={action:"shop_ct_ajax",task:"terms_popup",taxonomy:o,id:e,submit_btn_value:n,nonce:shopCTL10n.shop_ct_nonce};jQuery.ajax({url:shopCTL10n.ajax_url,type:"get",data:r,dataType:"json",beforeSend:function(e){shopCT.pageLoading()}}).done(function(e){if(e.success){jQuery("#shop_ct_cat_popup_block").length||jQuery("body").append('<div id="shop_ct_cat_popup_block"></div>'),shop_ct_popup.show("shop_ct_cat_popup_block",{title:t,row_content:e.return_html,width:800,height:!1}),e.count&&shopCT.terms.shop_ct_category_count(e.count),shopCT.pageLoaded()}else console.log("no success")}).fail(function(e,t,o){console.log(e),shopCT.pageLoaded()})},init:function(){var e=this;e.wrap=jQuery("body").find("#shop_ct_categories_wrapper"),shopCT.terms.page=e.wrap.data("page"),shopCT.terms.per_page=e.wrap.data("per_page"),shopCT.terms.total_pages=e.wrap.data("total"),shopCT.terms.total_terms_count=e.wrap.data("total_terms_count")},orderCategories:function(e,t){if(shopCT.terms.orderby_arr.in_array(e)&&shopCT.terms.ordering_arr.in_array(t)){jQuery("body").find("#shop_ct_wrapper").data("current-page");shopCT.reloadPage()}},cat_bulk_action_apply:function(e,t,n,o){if("delete"==e.parent().find("select option:selected").val()){var r=new Array;if(jQuery.each(jQuery("#"+o+" table input[type='checkbox']:checked"),function(){r.push(jQuery(this).val())}),r.length){var s={action:"shop_ct_ajax",task:"delete_term",id:r,taxonomy:t,nonce:shopCTL10n.shop_ct_nonce};jQuery.ajax({url:shopCTL10n.ajax_url,type:"get",data:s,dataType:"json",beforeSend:function(e){shopCT.pageLoading()},success:function(e,t,o){e.success&&(page_slug=jQuery("body").find("#shop_ct_wrapper").data("current-page"),shopCT.changePage("",page_slug),jQuery("#shop_ct_categories_form input:checked").prop("checked",!1),jQuery("#shop_ct_categories_form #bulk-action-selector-top option:first-child").prop("selected",!0),shopCT.pageLoaded(),shop_ct_popup.showToastr(n))}})}}},delete_term_item:function(t,e,o,n){jQuery("#shop_ct_error_dialog_wrapper").html("<p>Are you sure you want to delete '"+e+"'?</p>"),jQuery("#shop_ct_error_dialog_wrapper").dialog({dialogClass:"shop_ct_error_dialog",draggable:!1,resizable:!1,closeOnEscape:!0,hide:100,height:300,modal:!0,closeText:'<span class="dashicons dashicons-no"></span>',position:{my:"center",at:"center",of:"#shop_ct_wrapper"},title:"Delete Category",buttons:{YES:function(){jQuery(this).dialog("close");var e={action:"shop_ct_ajax",task:"delete_term",id:t,taxonomy:o,nonce:shopCTL10n.shop_ct_nonce};return jQuery.ajax({url:shopCTL10n.ajax_url,type:"get",data:e,dataType:"json",beforeSend:function(e){shopCT.pageLoading()}}).done(function(e){e.success&&(page_slug=jQuery("body").find("#shop_ct_wrapper").data("current-page"),shopCT.changePage("",page_slug),shopCT.pageLoaded(),shop_ct_popup.showToastr(n))}).fail(function(){}),!1},NO:function(){jQuery(this).dialog("close")}}})},popup_submit_term:function(e,t,o){var n={action:"shop_ct_ajax",task:"popup_save",term_args:e,taxonomy:t,nonce:shopCTL10n.shop_ct_nonce};jQuery.ajax({url:shopCTL10n.ajax_url,type:"post",data:n,dataType:"json",beforeSend:function(){shopCT.pageLoading()}}).done(function(e){if(e.success){var t=jQuery("body").find("#shop_ct_wrapper").data("current-page");shop_ct_popup.remove("shop_ct_cat_popup_block"),shopCT.changePage("",t),shopCT.pageLoaded(),shop_ct_popup.showToastr(o)}})},shop_ct_category_count:function(e){var t=jQuery("body").find(".shop_ct_cat_count_div .count");t.length&&!isNaN(parseInt(e))&&t.html(e)}},jQuery(window).ready(function(){shopCT.terms.init(),jQuery("body").on("click","#shop_ct_tags_form .delete-tag",function(){var e=jQuery(this).parent().parent().parent().parent().find("input[type='checkbox']").val(),t=jQuery(this).parent().parent().parent().find("strong .row-title").html();return shopCT.terms.delete_term_item(e,t,"shop_ct_product_tag","Tag Successfully Deleted"),!1}),jQuery("body").on("click","#shop_ct_categories_form #doaction-top,#shop_ct_categories_form  #doaction-bottom",function(){var e=jQuery(this);return shopCT.terms.cat_bulk_action_apply(e,"shop_ct_product_category","Categories Successfully Deleted","shop_ct_categories_form"),!1}),jQuery("body").on("click","#shop_ct_categories_form .delete-tag",function(){var e=jQuery(this).parent().parent().parent().parent().find("input[type='checkbox']").val(),t=jQuery(this).parent().parent().parent().find("strong .row-title").html();return shopCT.terms.delete_term_item(e,t,"shop_ct_product_category","Category Successfully Deleted"),!1}),jQuery("body").on("click","#shop_ct_add_cat_btn, .shop-ct-add-cat-btn",function(){return shopCT.terms.openPopup("new","Add Category","shop_ct_product_category","Add Category"),!1}),jQuery("body").on("click","#shop_ct_add_tag_btn",function(){shopCT.terms.openPopup("new","Add Tag","shop_ct_product_tag","Add Tag")}),jQuery("body").on("click","#shop_ct_categories_form .row-title",function(){return id=jQuery(this).parent().parent().parent().find("input[type='checkbox']").val(),shopCT.terms.openPopup(id,"Edit Category","shop_ct_product_category","Edit Category"),!1}),jQuery("body").on("click","#shop_ct_categories_form .edit",function(){return id=jQuery(this).parent().parent().parent().find("input[type='checkbox']").val(),shopCT.terms.openPopup(id,"Edit Category","shop_ct_product_category","Edit Category"),!1}),jQuery("body").on("click","#shop_ct_tags_form .row-title",function(){return id=jQuery(this).parent().parent().parent().find("input[type='checkbox']").val(),shopCT.terms.openPopup(id,"Edit Tag","shop_ct_product_tag","Edit Tag"),!1}),jQuery("body").on("click","#shop_ct_tags_form .edit",function(){return id=jQuery(this).parent().parent().parent().find("input[type='checkbox']").val(),shopCT.terms.openPopup(id,"Edit Tag","shop_ct_product_tag","Edit Tag"),!1}),jQuery("body").on("click","#popup-control-submit_category",function(){var r={};jQuery("body").find(".popup-control-value").each(function(e){var t=jQuery(this),o="",n=t.attr("id").replace("popup-control-","");o=t.is(":checkbox")?t.is(":checked")?"true":"false":t.val(),r[n]=o});if(void 0!==r.id&&""==r.id){r.id="new";var e="Category Successfully Added"}else e="Category Successfully Edited";return shopCT.terms.popup_submit_term(r,"shop_ct_product_category",e),!1}),jQuery("body").on("click","#popup-control-submit_tag",function(){var r={};jQuery("body").find(".popup-control-value").each(function(e){var t=jQuery(this),o="",n=t.attr("id").replace("popup-control-","");o=t.is(":checkbox")?t.is(":checked")?"true":"false":t.val(),r[n]=o});if(void 0!==r.id&&""==r.id){r.id="new";var e="Tag Successfully Added"}else e="Tag Successfully Edited";return shopCT.terms.popup_submit_term(r,"shop_ct_product_tag",e),!1}),jQuery("body").on("click","#apply_page_settings",function(){var e=jQuery("body").find("#cat_per_page").val();return shopCT.terms.perPageChange(e),!1})}),shopCT.attributes={openPopup:function(e,n,t,o){var r={action:"shop_ct_ajax",task:"attributes_popup",id:e,submit_btn_value:o,nonce:shopCTL10n.shop_ct_nonce};t&&(r.attribute=t),jQuery.ajax({url:shopCTL10n.ajax_url,type:"get",data:r,dataType:"json",beforeSend:function(e){shopCT.pageLoading()},success:function(e,t,o){if(e.success){shop_ct_popup.show("shop_ct_popup_block",{title:n,row_content:e.return_html,width:800,height:!1}),shopCT.pageLoaded()}else console.log("no success")},error:function(e,t,o){shopCT.pageLoaded()}})},init:function(){this.removeEventListeres(),this.addEventListeners()},removeEventListeres:function(){jQuery("#shop_ct_add_attr_btn").off("click")},addEventListeners:function(){jQuery("#shop_ct_add_attr_btn").on("click",function(){return shopCT.attributes.openPopup("new","Add Attrbiute",!1,"Add Attribute"),!1})}},jQuery(window).ready(function(){shopCT.attributes.init(),jQuery(window).on("shopCT:load",function(){shopCT.attributes.init()}),jQuery("body").on("click","#add_attribute_term_button",function(){var e={action:"shop_ct_ajax",task:"add_new_attribute_term",nonce:shopCTL10n.shop_ct_nonce};return jQuery.ajax({url:shopCTL10n.ajax_url,type:"GET",dataType:"JSON",data:e}).done(function(e){jQuery(".shop_ct_attr_terms_table").find("tbody").append(e.html),handle_no_products()}),!1}),jQuery("body").on("click",".shop_ct_attr_terms_table .remove-term",function(){var o=jQuery(this);return jQuery("#shop_ct_error_dialog_wrapper").html("<p>Are you sure you want to delete this term ?</p>"),jQuery("#shop_ct_error_dialog_wrapper").dialog({dialogClass:"shop_ct_error_dialog",draggable:!1,resizable:!1,closeOnEscape:!0,hide:100,height:300,modal:!0,closeText:'<span class="dashicons dashicons-no"></span>',position:{my:"center",at:"center",of:"#shop_ct_wrapper"},title:"Delete Term",buttons:{YES:function(){var e,t;return e=jQuery(o).closest("tr"),t=jQuery(o).closest("tr").next("tr"),e.remove(),t.remove(),jQuery(this).dialog("close"),handle_no_products(),!1},NO:function(){return jQuery(this).dialog("close"),!1}}}),!1}),jQuery("body").on("click","#popup-control-submit_attribute",function(){var e=jQuery("#shop_ct_popup_attributes_form").find(".shop_ct_list_table"),t=jQuery("#popup-control-name").val(),o=jQuery("#popup-control-slug").val(),n=jQuery("#shop-ct-control-type").val(),r=jQuery("#shop-ct-control-ordering").val(),s=jQuery("#popup-control-id").val(),i=[jQuery("#popup-control-name")],a=jQuery("#shop-ct-popup-section-error_section #errors");a.empty();var c=!0,l=!1;if(jQuery.each(i,function(e,t){var o=jQuery(t).val();jQuery(t).css("border",""),void 0!==o&&""!=o.trim()||(jQuery(t).css("border","1px solid red"),l||(a.append("<p>Please fill all required fields.</p>"),c=!(l=!0)))}),!c)return!1;var p=e.find(".shop_ct_attr_term_item"),u={attribute:{name:t,slug:o,type:n,order_by:r},terms:[]};jQuery.each(p,function(e,t){var o=jQuery(t).find('input[name="term_name"]').data("id"),n=jQuery(t).find('input[name="term_name"]').val(),r=n.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"");u.terms[e]={id:o,name:n,slug:r}});var d={action:"shop_ct_ajax",task:"save_attribute",data:u,nonce:shopCTL10n.shop_ct_nonce,id:s};return jQuery.ajax({url:shopCTL10n.ajax_url,type:"POST",dataType:"JSON",data:d}).always(function(e){shop_ct_popup.remove("shop_ct_popup_block");var t=jQuery("body").find("#shop_ct_wrapper").data("current-page");shopCT.changePage("",t)}),!1}),jQuery("body").on("click",".shop_ct_attr_table tbody a.edit, .shop_ct_attr_table tbody a.row-title",function(){var e=jQuery(this).closest("tr").find("th input:checkbox").val();return shopCT.attributes.openPopup(e,"Edit Attribute"),!1}),jQuery("body").on("click",".shop_ct_attr_table tbody a.delete",function(){var e={action:"shop_ct_ajax",task:"delete_attribute",id:jQuery(this).closest("tr").find("th input:checkbox").val(),nonce:shopCTL10n.shop_ct_nonce};jQuery("#shop_ct_error_dialog_wrapper").html("<p>Are you sure you want to delete this attribute ?</p>"),jQuery("#shop_ct_error_dialog_wrapper").dialog({dialogClass:"shop_ct_error_dialog",draggable:!1,resizable:!1,closeOnEscape:!0,hide:100,height:300,modal:!0,closeText:'<span class="dashicons dashicons-no"></span>',position:{my:"center",at:"center",of:"#shop_ct_wrapper"},title:"Delete Attribute",buttons:{YES:function(){jQuery.ajax({url:shopCTL10n.ajax_url,dataType:"JSON",type:"POST",data:e}).always(function(e){var t=jQuery("body").find("#shop_ct_wrapper").data("current-page");shopCT.changePage("",t)}),jQuery(this).dialog("close")},NO:function(){return jQuery(this).dialog("close"),!1}}})}),jQuery("body").on("click","#shop_ct_attribute_form #doaction-top, #shop_ct_attribute_form #doaction-bottom",function(){var e=jQuery(".shop_ct_attr_table tbody th input:checkbox:checked");if("delete"==jQuery(this).siblings("select").val()&&0<e.length){var o=[];jQuery.each(e,function(e,t){o.push(jQuery(t).val())});var t={action:"shop_ct_ajax",task:"delete_attribute",ids:o,nonce:shopCTL10n.shop_ct_nonce};jQuery("#shop_ct_error_dialog_wrapper").html("<p>Are you sure you want to delete these attributes ?</p>"),jQuery("#shop_ct_error_dialog_wrapper").dialog({dialogClass:"shop_ct_error_dialog",draggable:!1,resizable:!1,closeOnEscape:!0,hide:100,height:300,modal:!0,closeText:'<span class="dashicons dashicons-no"></span>',position:{my:"center",at:"center",of:"#shop_ct_wrapper"},title:"Delete Attributes",buttons:{YES:function(){jQuery.ajax({url:shopCTL10n.ajax_url,dataType:"JSON",type:"POST",data:t}).always(function(e){var t=jQuery("body").find("#shop_ct_wrapper").data("current-page");shopCT.changePage("",t)}),jQuery(this).dialog("close")},NO:function(){return jQuery(this).dialog("close"),!1}}})}return!1})}),jQuery(window).ready(function(){var t=jQuery("body");t.on("click",".accordion-section-title",function(){jQuery(this).parent().hasClass("open")?(jQuery(this).parent().removeClass("open"),jQuery(this).parent().find(".accordion-section-content ").css("display","none")):(jQuery(this).parent().addClass("open"),jQuery(this).parent().find(".accordion-section-content ").css("display","block"))}),t.on("click","#submit_display_page",function(){var n=[];t.find("#add-post-type-page input[type='checkbox']").each(function(e){var t=jQuery(this),o=t.val();t.is(":checked")&&!jQuery("#display_settings_list li.shop-post-"+o).length&&n.push(o)});var e={action:"shop_ct_ajax",task:"send_display_post_type",nonce:shopCTL10n.shop_ct_nonce,checked_post_type_ids:n};return jQuery.ajax({url:shopCTL10n.ajax_url,type:"get",data:e,dataType:"json",beforeSend:function(e){}}).done(function(e){e.success&&jQuery("#display_settings_list")&&jQuery("#display_settings_list").append(e.output)}),!1}),t.on("click","#submit_display_post",function(){var n=[];jQuery("body").find("#add-post-type-post input[type='checkbox']").each(function(e){var t=jQuery(this),o=t.val();t.is(":checked")&&!jQuery("#display_settings_list li.shop-post-"+o).length&&n.push(o)});var e={action:"shop_ct_ajax",task:"send_display_post_type",nonce:shopCTL10n.shop_ct_nonce,checked_post_type_ids:n};return jQuery.ajax({url:shopCTL10n.ajax_url,type:"get",data:e,dataType:"json"}).done(function(e){e.success&&jQuery("#display_settings_list")&&jQuery("#display_settings_list").append(e.output)}),!1}),t.on("click",".open_display_settings",function(){jQuery(this).find("i").hasClass("fa fa-caret-down")?(jQuery(this).find("i").removeClass("fa fa-caret-down").addClass("fa fa-caret-up"),jQuery(this).parent().parent().find(".post-item-settings").css("display","block")):(jQuery(this).find("i").removeClass("fa fa-caret-up").addClass("fa fa-caret-down"),jQuery(this).parent().parent().find(".post-item-settings").css("display","none"))}),t.on("change",".display_settings_show",function(){switch(jQuery(this).closest(".post_settings_li").find(".shop_page_type").html(" ("+jQuery(this).find("option:selected").html()+")"),jQuery(this).val()){case"single_product":jQuery(this).closest("ul").find(".shop_ct_all__list").find("div").hide(),jQuery(this).closest("ul").find(".shop_ct_all__list").find(".shop_all_products").css("display","block");break;case"single_category":console.log("a"),jQuery(this).closest("ul").find(".shop_ct_all__list").find("div").hide(),jQuery(this).closest("ul").find(".shop_ct_all__list").find(".shop_all_categories").css("display","block");break;default:jQuery(this).closest("ul").find(".shop_ct_all__list div").hide()}}),t.on("click",".display_settings_save",function(){var o,n=[];jQuery(".post_settings_li").each(function(){var e=jQuery(this).find(".display_settings_show").val(),t=jQuery(this).find(".post-item-settings").attr("id").substr(19);switch(e){case"single_product":o=jQuery(this).find(".display_settings_single_product").val();break;case"single_category":o=jQuery(this).find(".display_settings_single_category").val();break;default:o=null}n.push({post_id:t,resource:e,object:o})});var e={action:"shop_ct_ajax",task:"save_display_settings",nonce:shopCTL10n.shop_ct_nonce,display_settings:n};return jQuery.ajax({url:shopCTL10n.ajax_url,type:"get",data:e,dataType:"json",beforeSend:function(e){},success:function(e){e.success&&(shopCT.pageLoaded(),shop_ct_popup.showToastr("Settings Saved Successfully"))},error:function(e,t,o){}}),!1}),t.on("click",".delete_shop_page",function(){jQuery(this).closest("li.post_settings_li").remove()})});